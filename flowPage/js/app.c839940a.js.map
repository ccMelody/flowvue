{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/Process/PropPanel/index.vue?1976","webpack:///./src/components/Process/FlowCard/index.vue?9bf8","webpack:///./src/components/FormControls/OrgSelect/index.vue?48fc","webpack:///./src/components/Process/index.vue?b3e1","webpack:///./src/components/Process/PropPanel/index.vue?46df","webpack:///./src/App.vue?d638","webpack:///./src/App.vue","webpack:///./src/views/approver.vue?192c","webpack:///./src/components/Process/FlowCard/config.js","webpack:///./src/components/Process/FlowCard/util.js","webpack:///src/components/Process/FlowCard/index.vue","webpack:///./src/components/Process/FlowCard/index.vue","webpack:///./src/axios/index.js","webpack:///./src/components/Process/FlowCard/index.vue?b87a","webpack:///./src/components/Process/PropPanel/index.vue?35b2","webpack:///./src/components/Process/index.vue","webpack:///./src/api/index.js","webpack:///./src/components/Process/PropPanel/RowWrapper.vue?d819","webpack:///./src/components/Process/PropPanel/RowWrapper.vue","webpack:///./src/components/Process/PropPanel/NumInput.vue?02f9","webpack:///src/components/Process/PropPanel/NumInput.vue","webpack:///./src/components/Process/PropPanel/NumInput.vue?6036","webpack:///./src/components/Process/PropPanel/NumInput.vue","webpack:///src/components/Process/PropPanel/index.vue","webpack:///./src/components/Process/PropPanel/index.vue?8010","webpack:///./src/components/Process/PropPanel/index.vue","webpack:///src/components/Process/index.vue","webpack:///./src/components/Process/index.vue?341f","webpack:///./src/utils/index.js","webpack:///src/views/approver.vue","webpack:///./src/views/approver.vue?3164","webpack:///./src/views/approver.vue","webpack:///./src/router/index.js","webpack:///./src/store/index.js","webpack:///./src/components/FormControls/OrgTransfer/index.vue?46c7","webpack:///./src/components/FormControls/OrgTransfer/config.js","webpack:///./src/lib/tree/src/tree.vue?07f6","webpack:///./src/lib/tree/src/model/util.js","webpack:///./src/lib/tree/src/model/node.js","webpack:///./src/lib/tree/src/model/tree-store.js","webpack:///./src/lib/tree/src/tree-node.vue?1a70","webpack:///src/lib/tree/src/tree-node.vue","webpack:///./src/lib/tree/src/tree-node.vue?36c9","webpack:///./src/lib/tree/src/tree-node.vue","webpack:///src/lib/tree/src/tree.vue","webpack:///./src/lib/tree/src/tree.vue?60b2","webpack:///./src/lib/tree/src/tree.vue","webpack:///src/components/FormControls/OrgTransfer/index.vue","webpack:///./src/components/FormControls/OrgTransfer/index.vue?e5a1","webpack:///./src/components/FormControls/OrgTransfer/index.vue","webpack:///./src/components/FormControls/OrgSelect/index.vue?6e42","webpack:///src/components/FormControls/OrgSelect/index.vue","webpack:///./src/components/FormControls/OrgSelect/index.vue?c709","webpack:///./src/components/FormControls/OrgSelect/index.vue","webpack:///./src/components/FormControls/index.js","webpack:///./src/main.js","webpack:///./src/App.vue?8a48","webpack:///./src/components/Process/PropPanel/RowWrapper.vue?4f07","webpack:///./src/views/approver.vue?a3a4","webpack:///./src/components/Process/PropPanel/NumInput.vue?e4d8","webpack:///./src/components/FormControls/OrgTransfer/index.vue?56a0"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","$route","meta","_e","keepAlive","staticRenderFns","script","component","directives","rawName","expression","staticClass","on","publish","_v","ref","mockData","processData","onStartChange","start","type","content","properties","title","initiator","approver","approvers","assigneeType","counterSign","optionalMultiUser","approverConfig","signType","users","grade","gradeNext","allowMulti","copy","menbers","userOptional","copyConfig","allowSelfChoose","condition","conditions","branch","empty","isEmptyArray","Array","isArray","NodeUtils","qutient","Date","Math","ceil","random","chars","charArr","split","radix","res","mod","join","node","previousNodeId","JSON","parse","stringify","nodeConfig","nodeId","idGenerator","prevId","childNode","r1","getPreviousNode","conditionNodes","r2","nodeData","checkEmpty","prevNode","isConditionNode","willDelBranch","target","deleteNode","concatChild","prev","delNode","forEach","cons","index","findIndex","anotherCon","endNode","priority","isBranchAction","newChildNode","undefined","oldChildNode","createNode","map","emptyNode","addApprovalNode","defaultNodeIndex","isDefault","setDefaultCondition","isBottomBtnOfBranch","addEmptyNode","cnode","oldPriority","newPriority","branchData","lastNode","DEFAULT_TEXT","hasCondition","clearDefault","setDefault","count","parent","valid","props","isStartNode","customSettings","isApproverNode","includes","loop","callback","checkNode","getMockData","startNode","createNormalCard","ctx","conf","h","createFunc","addNodeButton","isEmpty","isBranch","NodeFactory","hasBranch","branchNode","isCondition","selfNode","addEndNode","basePath","verifyMode","watch","methods","eventLancher","$emit","param","render","staticStyle","visible","$event","cancel","slot","_s","titleInputVisible","_","model","$$v","$set","_l","item","showingPCons","couldShowIt","fieldName","scopedSlots","_u","fn","onDelCondition","proxy","timeTangeLabel","label","dialogVisible","notUseConNum","activeName","resetOrgColl","approverForm","directorLevel","useDirectorProxy","getAssignTypeLabel","fcOrgTabList","onOrgChange","orgCollection","isCopyNode","field","confirm","local","location","contextPath","pathname","protocol","host","e","axios","defaults","baseURL","timeout","validateStatus","status","withCredentials","interceptors","request","use","config","text","headers","error","Promise","reject","response","code","message","msg","error_description","alert","Message","dangerouslyUseHTMLString","showClose","Error","console","log","getProcessData","accountbookId","billType","url","method","params","getField","saveData","getDept","getUsersByDept","departDetailId","getUsersBySearch","userName","_t","isRange","onTypeChange","cloneData","update","prop","event","components","RowWrapper","assign","computed","mounted","newVal","pconditions","priorityLength","dep","role","user","position","startForm","formOperates","defaultApproverForm","optionalOptions","assigneeTypeOptions","created","getCondition","Clickoutside","tag","fieldType","initCopyNode","initStartNodeData","initInitiator","copyNodeConfirm","getOrgSelectLabel","conditionNodeComfirm","nodeContent","operator","conditionConfigs","id","obj","objBet","cur","$refs","startNodeComfirm","approverNodeComfirm","find","setTimeout","getPrevData","getPriorityLength","initApproverNodeData","initConditionNodeData","con","conditionValue","temp","val","NumInput","scaleVal","step","updateId","activeData","isProcessCmp","getData","resolve","eventReciver","forceUpdate","args","changeScale","v","onPropEditConfirm","oldProp","onClosePanel","isFilledPCon","formIds","uesd","loopChild","debounce","func","gap","timer","clearTimeout","arguments","handlereduce","arr","hash","newArr","reduce","next","Process","processLoading","fieldArr","initData","setFieldArr","getFlowData","all","p3","sendToServer","center","Vue","VueRouter","routes","path","Approver","router","base","process","Vuex","state","formId","needIndex","processConditions","store","Store","formItemList","mutations","initPConditions","addPCondition","unshift","delPCondition","clearPCondition","updateFormItemList","list","class","tabConfig","closeTransfer","searchable","searchString","selectedNum","maxNum","removeAll","selectedData","getNodeProp","removeData","aloneCheckedData","active","searchMode","searchItemClick","checked","addData","activeTabName","nativeOn","stopPropagation","tab_item","idx","tabKey","tabName","refInFor","children","isLeaf","disabled","onLoad","onCheckChange","localStorage","getItem","getDepChildNode","promises","nodes","getUserNode","orgId","loadDepOrUser","level","loadDepData","loadUserData","defaultOption","realName","searchResTip","departName","onload","onsearch","employeedata","DEP_CONFIG","USER_CONFIG","DEP_USER_CONFIG","CONFIG_LIST","highlightCurrent","dragState","draggingNode","allowDrop","dropType","root","child","getNodeKey","renderAfterExpand","showCheckbox","renderContent","handleNodeExpand","emptyText","NODE_KEY","markNodeData","configurable","writable","findNearestComponent","element","componentName","tagName","__vue__","$options","parentNode","getChildState","none","allWithoutDisable","indeterminate","half","reInitChecked","childNodes","checkStrictly","getPropertyFromData","dataProp","nodeIdSeed","Node","options","expanded","isCurrent","loaded","loading","registerNode","isLeafByUser","lazy","setData","defaultExpandAll","expand","defaultExpandedKeys","indexOf","autoExpandParent","currentNodeKey","currentNode","_initDefaultCheckedNode","updateLeafState","insertChild","nodeKey","deep","walk","removeChild","batch","getChildren","objectAssign","dataIndex","deregisterNode","targetNode","expandParent","done","shouldLoadData","loadData","setChecked","array","defaultProps","load","recursion","passValue","checkDescendants","handleDescendants","isCheck","forceInit","newData","oldData","newDataMap","newNodes","isNodeExists","arrayFindIndex","removeChildByData","keys","doCreateChildren","TreeStore","option","nodesMap","myNodesMap","loadFn","_initDefaultCheckedNodes","getMyNode","values","filter","filterNodeMethod","traverse","allHidden","some","instanceChanged","updateChildren","refData","refNode","getNode","insertBefore","insertAfter","parentData","defaultCheckedKeys","checkedKey","leafOnly","includeHalfChecked","checkedNodes","getCheckedNodes","getHalfCheckedNodes","allNodes","remove","append","checkedKeys","_getAllNodes","sort","a","b","cache","toString","_setCheckedKeys","prevCurrentNode","currNode","setCurrentNode","this$1","tree","draggable","handleClick","handleContextMenu","handleDragStart","handleDragOver","handleDragEnd","handleDrop","style","indent","iconClass","handleExpandIconClick","handleCheckChange","childNodeRendered","handleChildNodeExpand","default","tabList","String","show","Boolean","reuired","Number","searchRes","isEnough","searchLoading","tabKeys","num","isNumEnough","debounceSearch","searchDepUser","then","activeConfig","allSelectData","$nextTick","setMyChecked","getCheckedKeys","fromAloneData","getActiveConf","getConfProp","propName","dataInit","defaultConf","initDefaultData","customConf","handler","immediate","buttonType","_b","onClose","tagConfig","innerValue","onConfirm","required","reloadCmpData","selectedLabels","initSelectedData","concat","getPropByKey","transfer","getKey","getLabel","OrgTransfer","OrgSelect","install","FormControls","ElementUI","VueAxios","VueCookie","productionTip","App","$mount"],"mappings":"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","file":"js/app.c839940a.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=stylus&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=66aec45f&lang=stylus&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=cae5a890&lang=stylus&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=cb157296&scoped=true&lang=stylus&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=1&id=7a6ee963&lang=stylus&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('keep-alive',[(_vm.$route.meta.keepAlive)?_c('router-view'):_vm._e()],1),(!_vm.$route.meta.keepAlive)?_c('router-view'):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=339bf576&\"\nvar script = {}\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.processLoading),expression:\"processLoading\"}],staticClass:\"page\"},[_c('header',{staticClass:\"page__header\"},[_c('div',{staticClass:\"page-actions\"}),_c('el-button',{staticClass:\"publish-btn\",attrs:{\"size\":\"small\"},on:{\"click\":_vm.publish}},[_vm._v(\"发布\")])],1),_c('section',{staticClass:\"page__content\"},[(_vm.mockData)?_c('Process',{ref:\"processDesign\",attrs:{\"conf\":_vm.mockData.processData,\"tabName\":\"processDesign\"},on:{\"startNodeChange\":_vm.onStartChange}}):_vm._e()],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default {\n  start: {\n    type: \"start\",\n    content: \"所有人\",\n    properties: { title: '发起人', initiator: [] }\n  },\n  approver: {\n    type: \"approver\",\n    // content: \"请设置审批人\",\n    // properties: { title: '审批人' },\n    content: \"发起人自选\",\n    properties:{\n      approvers:[],\n      assigneeType: \"optional\",\n      counterSign: true,\n      optionalMultiUser: false,\n      title: \"审批人\"\n    },\n    approverConfig:{\n      type:4,//审批人类型（assigneeType）\n      signType:'and' ,//会签/或签\n      users:[],//审批人列表：type=1即指定成员时生效\n      grade:1,//主管级别：type=2即主管生效(1-N)\n      gradeNext:true,//找不到主管时，由上级主管代审批标记\n      allowMulti:false//允许选择多人\n    }\n  },\n  copy:{\n    type: 'copy',\n    content: '发起人自选',\n    properties: {\n      title: '抄送人',\n      menbers: [],\n      userOptional: true\n    },\n    copyConfig: {users: [], allowSelfChoose: true}\n  },\n  condition: {\n    type: \"condition\",\n    content: \"请设置条件\",\n    properties: { title: '条件', conditions: [], initiator: null }\n  },\n  branch: { type: \"branch\", content: \"\", properties: {} },\n  empty: { type: \"empty\", content: \"\", properties: {} }\n}","import nodeConfig from \"./config.js\";\nconst isEmpty = data => data === null || data === undefined || data === ''\nconst isEmptyArray = data => Array.isArray( data ) ? data.length === 0 : true\n\nexport class NodeUtils {\n \n  /**\n   * 根据自增数生成64进制id\n   * @returns 64进制id字符串\n   */\n  static idGenerator () {\n    let qutient = (new Date() - new Date('2020-08-01'))\n    qutient += Math.ceil(Math.random() * 1000) // 防止重複\n    const chars = '0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZabcdefghigklmnopqrstuvwxyz';\n    const charArr = chars.split( \"\" )\n    const radix = chars.length;\n    const res = []\n    do {\n      let mod = qutient % radix;\n      qutient = ( qutient - mod ) / radix;\n      res.push( charArr[mod] )\n    } while ( qutient );\n    return res.join( '' )\n  }\n\n\n  /**\n   * 判断节点类型\n   * @param {Node} node - 节点数据\n   * @returns Boolean\n   */\n  static isConditionNode ( node ) {\n    return node && node.type === 'condition'\n  }\n  static isCopyNode ( node ) {\n    return node && node.type === 'copy'\n  }\n  static isStartNode ( node ) {\n    return node && node.type === 'start'\n  }\n  static isApproverNode ( node ) {\n    return node && node.type === 'approver'\n  }\n  /**\n   * 创建指定节点\n   * @param { String } type - 节点类型\n   * @param { Object } previousNodeId - 父节点id\n   * @returns { Object } 节点数据\n   */\n  static createNode ( type, previousNodeId ) {\n    let res = JSON.parse( JSON.stringify( nodeConfig[type] ) )\n    if(type == 'copy'){\n      res.nodeId = \"ServiceTask_\" +this.idGenerator()\n    }else if(type == 'approver'){\n      res.nodeId = \"UserTask_\" +this.idGenerator()\n    }else if(type == 'start'){\n      res.nodeId = \"StratTask_\" +this.idGenerator()\n    }else{\n      res.nodeId = this.idGenerator()\n    }\n    res.prevId = previousNodeId\n    return res\n  }\n  /**\n   * 获取指定节点的父节点（前一个节点）\n   * @param { String } prevId - 父节点id\n   * @param { Object } processData - 流程图全部数据\n   * @returns { Object } 父节点\n   */\n  static getPreviousNode ( prevId, processData ) {\n    if ( processData.nodeId === prevId ) return processData\n    if ( processData.childNode ) {\n      let r1 = this.getPreviousNode( prevId, processData.childNode )\n      if ( r1 ) {\n        return r1\n      }\n    }\n    if ( processData.conditionNodes ) {\n      for ( let c of processData.conditionNodes ) {\n        let r2 = this.getPreviousNode( prevId, c )\n        if ( r2 ) {\n          return r2\n        }\n      }\n    }\n  }\n\n\n  /**\n   * 删除节点\n   * @param { Object  } nodeData - 被删除节点的数据\n   * @param { Object  } processData - 流程图的所有节点数据\n   */\n  static deleteNode ( nodeData, processData, checkEmpty = true ) {\n    let prevNode = this.getPreviousNode( nodeData.prevId, processData )\n    if ( checkEmpty && prevNode.type === 'empty' ) {\n      if ( this.isConditionNode( nodeData )) {\n        const willDelBranch = prevNode.conditionNodes.length === 2\n        const target = willDelBranch ? prevNode : nodeData\n        this.deleteNode( target, processData,  willDelBranch)\n      } else {\n        if ( isEmptyArray( prevNode.conditionNodes ) ) {\n          this.deleteNode( prevNode, processData )\n        }\n        this.deleteNode( nodeData, processData, false )\n      }\n      // this.deleteNode( prevNode, processData )\n      // !this.isConditionNode(nodeData) && this.deleteNode(nodeData, processData)\n      return\n    }\n\n\n    let concatChild = ( prev, delNode ) => {\n      prev.childNode = delNode.childNode\n      isEmptyArray( prev.conditionNodes ) && ( prev.conditionNodes = delNode.conditionNodes )\n      prev.childNode && ( prev.childNode.prevId = prev.nodeId )\n      prev.conditionNodes && prev.conditionNodes.forEach( c => c.prevId = prev.nodeId );\n    }\n    if ( this.isConditionNode( nodeData ) ) {\n      let cons = prevNode.conditionNodes\n      let index = cons.findIndex( c => c.nodeId === nodeData.nodeId )\n      if ( cons.length > 2 ) {\n        cons.splice( index, 1 )\n      } else {\n        let anotherCon = cons[+( !index )]\n        delete prevNode.conditionNodes\n        if ( prevNode.childNode ) {\n          let endNode = anotherCon\n          while ( endNode.childNode ) {\n            endNode = endNode.childNode\n          }\n          endNode.childNode = prevNode.childNode\n          endNode.childNode.prevId = endNode.nodeId\n        }\n        concatChild( prevNode, anotherCon )\n        if (prevNode.childNode && prevNode.childNode.type === 'empty') {\n          this.deleteNode(prevNode.childNode, prevNode)\n        }\n      }\n      // 重新编排优先级\n      cons.forEach( ( c, i ) => c.properties.priority = i )\n      return\n    }\n    concatChild( prevNode, nodeData )\n  }\n  // TODO:\n  // static copyNode ( nodeData, processData ) {\n  //   let prevNode = this.getPreviousNode( nodeData.prevId, processData )\n  //   let index = prevNode.conditionNodes.findIndex( c => c.nodeId === nodeData.nodeId )\n\n  // }\n  /**\n   * 添加审计节点（普通节点 approver）\n   * @param { Object } data - 目标节点数据，在该数据节点之后添加审计节点\n   * @param { Object } isBranchAction - 目标节点数据，是否是条件分支\n   * @param { Object } newChildNode - 传入的新的节点 用户操作均为空  删除操作/添加抄送人 会传入该参数 以模拟添加节点\n   */\n  static addApprovalNode ( data, isBranchAction, newChildNode = undefined ) {\n    let oldChildNode = data.childNode;\n    newChildNode = newChildNode || this.createNode( \"approver\", data.nodeId )\n    data.childNode = newChildNode\n    if ( oldChildNode ) {\n      newChildNode.childNode = oldChildNode\n      oldChildNode.prevId = newChildNode.nodeId\n    }\n    let conditionNodes = data.conditionNodes\n    if ( Array.isArray( conditionNodes ) && !isBranchAction && conditionNodes.length ) {\n      newChildNode.conditionNodes = conditionNodes.map( c => {\n        c.prevId = newChildNode.nodeId\n        return c\n      } )\n      delete data.conditionNodes\n    }\n    if ( oldChildNode && oldChildNode.type === 'empty' && newChildNode.type !== 'empty' && oldChildNode.conditionNodes.length === 0 ) {\n      this.deleteNode( oldChildNode, data )\n    }\n  }\n  /**\n   * 添加空节点\n   * @param { Object } data - 空节点的父级节点\n   * @return { Object } emptyNode - 空节点数据\n   */\n  static addEmptyNode ( data ) {\n    let emptyNode = this.createNode( 'empty', data.nodeId )\n    this.addApprovalNode( data, true, emptyNode )\n    return emptyNode\n  }\n\n  static addCopyNode ( data, isBranchAction ) {\n    // 复用addApprovalNode  因为抄送人和审批人基本一致\n    this.addApprovalNode( data, isBranchAction, this.createNode( 'copy', data.nodeId ) )\n  }\n  /**\n   * 添加条件节点 condition 通过点击添加条件进入该操作\n   * @param { Object } data - 目标节点所在分支数据，在该分支最后添加条件节点\n   */\n  static appendConditionNode ( data ) {\n    const conditions = data.conditionNodes\n    let node = this.createNode( 'condition', data.nodeId )\n    let defaultNodeIndex = conditions.findIndex( node => node.properties.isDefault )\n    node.properties.priority = conditions.length\n    if ( defaultNodeIndex > -1 ) {\n      conditions.splice( -1, 0, node ) // 插在倒数第二个\n      //更新优先级\n      node.properties.priority = conditions.length - 2\n      conditions[conditions.length - 1].properties.priority = conditions.length - 1\n    } else {\n      conditions.push( node )\n    }\n    this.setDefaultCondition( node, data )\n  }\n  /**\n   * 添加条件分支 branch \n   * @param { Object } data - 目标节点所在节点数据，在该节点最后添加分支节点\n   */\n  static appendBranch ( data, isBottomBtnOfBranch ) {\n    // isBottomBtnOfBranch 用户点击的是分支树下面的按钮\n    let nodeData = data\n    // 由于conditionNodes是数组 不能添加下级分支 故在两个分支树之间添加一个不会显示的正常节点 兼容此种情况\n    if ( Array.isArray( data.conditionNodes ) && data.conditionNodes.length ) {\n      if ( isBottomBtnOfBranch ) {\n        // 添加一个模拟用的空白节点并返回这个节点，作为新分支的父节点\n        nodeData = this.addEmptyNode( nodeData, true )\n      } else {\n        let emptyNode = this.addEmptyNode( nodeData, true )\n        emptyNode.conditionNodes = nodeData.conditionNodes\n        emptyNode.conditionNodes.forEach( n => {\n          n.prevId = emptyNode.nodeId\n        } )\n      }\n    }\n    let conditionNodes = [\n      this.createNode( \"condition\", nodeData.nodeId ),\n      this.createNode( \"condition\", nodeData.nodeId )\n    ].map( ( c, i ) => {\n      c.properties.title += i + 1;\n      c.properties.priority = i;\n      return c\n    } )\n    nodeData.conditionNodes = conditionNodes\n  }\n  /**\n   * 重设节点优先级（条件节点）\n   * @param {Node} cnode - 当前节点\n   * @param {Number} oldPriority - 替换前的优先级（在数组中的顺序）\n   * @param {Node} processData - 整个流程图节点数据\n   */\n  static resortPrioByCNode ( cnode, oldPriority, processData ) {\n    // 当前节点为默认节点 取消修改优先级\n    if ( cnode.properties.isDefault ) {\n      cnode.properties.priority = oldPriority\n      return\n    }\n    let prevNode = this.getPreviousNode( cnode.prevId, processData )\n    let newPriority = cnode.properties.priority\n    // 替换节点为默认节点 取消修改优先级\n    if ( prevNode.conditionNodes[newPriority].properties.isDefault ) {\n      cnode.properties.priority = oldPriority\n      return\n    }\n    let delNode = prevNode.conditionNodes.splice( newPriority, 1, cnode )[0]\n    delNode.properties.priority = oldPriority\n    prevNode.conditionNodes[oldPriority] = delNode\n  }\n\n  /**\n   * 提升条件节点优先级——排序在前\n   * @param { Object } data - 目标节点数据\n   * @param { Object  } processData - 流程图的所有节点数据\n   */\n  static increasePriority ( data, processData ) {\n    if ( data.properties.isDefault ) {  // 默认节点不能修改优先级\n      return\n    }\n    // 分支节点数据 包含该分支所有的条件节点\n    let prevNode = this.getPreviousNode( data.prevId, processData )\n    let branchData = prevNode.conditionNodes\n    let index = branchData.findIndex( c => c === data )\n    if ( index ) {\n      // 和前一个数组项交换位置 Array.prototype.splice会返回包含被删除的项的集合（数组）\n      branchData[index - 1].properties.priority = index\n      branchData[index].properties.priority = index - 1\n      branchData[index - 1] = branchData.splice( index, 1, branchData[index - 1] )[0]\n    }\n  }\n  /**\n   * 降低条件节点优先级——排序在后\n   * @param { Object } data - 目标节点数据\n   * @param { Object  } processData - 流程图的所有节点数据\n   */\n  static decreasePriority ( data, processData ) {\n    // 分支节点数据 包含该分支所有的条件节点\n    let prevNode = this.getPreviousNode( data.prevId, processData )\n    let branchData = prevNode.conditionNodes\n    let index = branchData.findIndex( c => c.nodeId === data.nodeId )\n    if ( index < branchData.length - 1 ) {\n      let lastNode = branchData[index + 1]\n      if ( lastNode.properties.isDefault ) {  // 默认节点不能修改优先级\n        return\n      }\n      // 和后一个数组项交换位置 Array.prototype.splice会返回包含被删除的项的集合（数组）\n      lastNode.properties.priority = index\n      branchData[index].properties.priority = index + 1\n      branchData[index + 1] = branchData.splice( index, 1, branchData[index + 1] )[0]\n    }\n  }\n  /**\n * 当有其他条件节点设置条件后 检查并设置最后一个节点为默认节点\n * @param {Node} cnode  - 当前节点\n * @param {Node} processData - 整个流程图节点数据或父级节点数据\n */\n  static setDefaultCondition ( cnode, processData ) {\n    const DEFAULT_TEXT = '其他情况进入此流程'\n    const conditions = this.getPreviousNode( cnode.prevId, processData ).conditionNodes\n    const hasCondition = node => node.properties && ( node.properties.initiator || !isEmptyArray( node.properties.conditions ) )\n    const clearDefault = node => {\n      node.properties.isDefault = false\n      node.content === DEFAULT_TEXT && ( node.content = '请设置条件' )\n    }\n    const setDefault = node => {\n      node.properties.isDefault = true\n      node.content = DEFAULT_TEXT\n    }\n    let count = 0\n    conditions.slice( 0, -1 ).forEach( node => {\n      hasCondition( node ) && count++\n      clearDefault( node )\n    } )\n    const lastNode = conditions[conditions.length - 1]\n    count > 0 && !hasCondition( lastNode ) ? setDefault( lastNode ) : clearDefault( lastNode )\n  }\n  /**\n   * 校验单个节点必填项完整性\n   * @param {Node} node - 节点数据\n   */\n  static checkNode ( node, parent ) {\n    // 抄送人应该可以默认自选\n    let valid = true\n    const props = node.properties\n    this.isStartNode( node )\n      && !props.initiator\n      && ( valid = false )\n\n    this.isConditionNode( node )\n      && !props.isDefault\n      && !props.initiator\n      && isEmptyArray( props.conditions )\n      && ( valid = false )\n\n    const customSettings = ['myself', 'optional', 'director']\n    this.isApproverNode( node )\n      && !customSettings.includes( props.assigneeType )\n      && isEmptyArray( props.approvers )\n      && ( valid = false )\n    return valid\n  }\n  /**\n   * 判断所有节点是否信息完整\n   * @param {Node} processData - 整个流程图数据\n   * @returns {Boolean}\n   */\n  static checkAllNode ( processData ) {\n    let valid = true\n    const loop = ( node, callback, parent ) => {\n      !this.checkNode( node, parent ) && callback()\n      if ( node.childNode ) loop( node.childNode, callback, parent )\n      if ( !isEmptyArray( node.conditionNodes ) ) {\n        node.conditionNodes.forEach( n => loop( n, callback, node ) )\n      }\n    }\n    loop( processData, () => valid = false )\n    return valid\n  }\n}\n\n/**\n * 添模拟数据\n */\nexport function getMockData () {\n  let startNode = NodeUtils.createNode( \"start\" );\n  startNode.childNode = NodeUtils.createNode( \"approver\", startNode.nodeId )\n  return startNode;\n}\n\n","<script>\nimport { NodeUtils } from \"./util.js\";\n//是否是条件分支\nconst isCondition = data => data.type === \"condition\";\n//判断是否不是一个空数组\nconst notEmptyArray = arr => Array.isArray(arr) && arr.length > 0;\n//判断条件分支是否不是一个空数组\nconst hasBranch = data => notEmptyArray(data.conditionNodes);\n//阻止事件冒泡\nconst stopPro = ev => ev.stopPropagation();\n\n/** \n*@desc 创建一个流程节点 \n*@param {object} ctx - this\n*@param {object} conf - 流程图中 当前节点 的数据\n*this.eventLancher.bind(ctx, \"edit\", conf)\n*/\nfunction createNormalCard(ctx, conf, h) {\n  const classList = ['flow-path-card'];//需要绑定的class名称\n  const afterTrue = (isTrue, name) => (isTrue && classList.push(name), isTrue)\n  const isStartNode = afterTrue(NodeUtils.isStartNode(conf), 'start-node');//开始节点\n  const isApprNode = afterTrue(NodeUtils.isApproverNode(conf), 'approver');//审批人节点\n  const isCopyNode = afterTrue(NodeUtils.isCopyNode(conf), 'copy');//抄送节点\n  return (\n    <section class={classList.join(' ')} onClick={isStartNode ? () => {} : this.eventLancher.bind(ctx, \"edit\", conf)}>\n      <header class=\"header\">\n        <div class=\"title-box\" style=\"height: 100%;width:190px;\">\n          {isApprNode && (\n            <i class=\"iconfont iconshenpi\" style=\"font-size:12px;color:white;margin-right:4px;\"></i>\n          )}\n          {isCopyNode && (\n            <i class=\"el-icon-s-promotion\" style=\"font-size:12px;color:white;margin-right:4px;\"></i>\n          )}\n          <span class=\"title-text\">{conf.properties.title}</span>\n          {!isStartNode && (\n            <input vModel_trim={conf.properties.title} class=\"title-input\" style=\"margin-top:3px;\" onClick={stopPro} />\n          )}\n        </div>\n        <div class=\"actions\" style=\"margin-right:4px;\">\n          <i class=\"el-icon-close icon\" onClick={this.eventLancher.bind(ctx, \"deleteNode\", conf, ctx.data)} ></i>\n        </div>\n      </header>\n      <div class=\"body\">\n        <span class=\"text\">{conf.content}</span>\n        <div class=\"icon-wrapper right\">\n          <i class=\"el-icon-arrow-right icon right-arrow\"></i>\n        </div>\n      </div>\n    </section>\n  );\n}\n// arg = ctx, data, h\nconst createFunc = (...arg) => createNormalCard.call(arg[0], ...arg)\nlet nodes = {\n  start: createFunc,\n  approver: createFunc,\n  copy: createFunc,\n  empty: _ => '',\n  condition: function(ctx, conf, h) {\n      // <i\n      //    class=\"el-icon-document-copy icon\"\n      //    onClick={this.eventLancher.bind(ctx, \"copyNode\", conf, ctx.data)}\n      //  ></i>\n    return (\n      <section\n        class=\"flow-path-card condition\"\n        onClick={this.eventLancher.bind(ctx, \"edit\", conf)}\n      >\n        <header class=\"header\">\n          <div class=\"title-box\" style=\"height: 20px;width:160px;\">\n            <span class=\"title-text\">{conf.properties.title}</span>\n            {\n              <input\n                vModel_trim={conf.properties.title}\n                class=\"title-input\"\n                style=\"margin-top:1px;\"\n                onClick={stopPro}\n              />\n            }\n          </div>\n          <span class=\"priority\">优先级{conf.properties.priority + 1}</span>\n          <div class=\"actions\">\n            \n            <i\n              class=\"el-icon-close icon\"\n              onClick={this.eventLancher.bind(\n                ctx,\n                \"deleteNode\",\n                conf,\n                ctx.data\n              )}\n            ></i>\n          </div>\n        </header>\n        <div class=\"body\">\n          <pre class=\"text\" >{conf.content}</pre>\n        </div>\n        <div\n          class=\"icon-wrapper left\"\n          onClick={ctx.eventLancher.bind(\n            ctx,\n            \"increasePriority\",\n            conf,\n            ctx.data\n          )}\n        >\n          <i class=\"el-icon-arrow-left icon left-arrow\"></i>\n        </div>\n        <div\n          class=\"icon-wrapper right\"\n          onClick={ctx.eventLancher.bind(\n            ctx,\n            \"decreasePriority\",\n            conf,\n            ctx.data\n          )}\n        >\n          <i class=\"el-icon-arrow-right icon right-arrow\"></i>\n        </div>\n      </section>\n    );\n  }\n};\n/**\n*添加线，以及线上的弹出(弹出现实添加审批/抄送/分支)的按钮\n@param {object} ctx - this\n@param {object} data - 当前节点的数据\n@param {Boolean} isBranch - 是否为条件分支\n*/\nfunction addNodeButton(ctx, data, h, isBranch = false) {\n  // 只有非条件节点和条件分支树下面的那个按钮 才能添加新分支树\n  let couldAddBranch = !hasBranch(data) || isBranch;\n  let isEmpty = data.type === \"empty\";\n  if (isEmpty && !isBranch) {\n    return \"\";\n  }\n  return (\n    <div class=\"add-node-btn-box flex  justify-center\">\n      <div class=\"add-node-btn\">\n        <el-popover placement=\"right\" trigger=\"click\" width=\"300\">\n          <div class=\"condition-box\">\n            <div>\n              <div class=\"condition-icon\" onClick={ctx.eventLancher.bind( ctx, \"addApprovalNode\",  data, isBranch )} >\n                <i class=\"iconfont iconshenpi\"></i>\n              </div>\n              审批人\n            </div>\n\n            <div>\n              <div class=\"condition-icon\" onClick={ctx.eventLancher.bind( ctx, \"addCopyNode\",  data, isBranch )} >\n                <i class=\"el-icon-s-promotion iconfont\" style=\"vertical-align: middle;\"></i>\n              </div>\n              抄送人\n            </div>\n\n            <div>\n              <div class=\"condition-icon\" onClick={this.eventLancher.bind(ctx, \"appendBranch\", data, isBranch)}>\n                <i class=\"iconfont iconcondition\"></i>\n              </div>\n              条件分支\n            </div>\n          </div>\n\n          <button class=\"btn\" type=\"button\" slot=\"reference\">\n            <i class=\"el-icon-plus icon\"></i>\n          </button>\n        </el-popover>\n      </div>\n    </div>\n  );\n}\n/** \n*@param {object} ctx - this \n*@param {object} data: 每个节点的数据\n*@param  h : 虚拟dom，render函数里面的参数\n*/\nfunction NodeFactory(ctx, data, h) {\n  if (!data) return\n  //校验节点信息数据的完整性\n  const showErrorTip = ctx.verifyMode && NodeUtils.checkNode(data) === false\n  let res = [],\n    branchNode = \"\",\n    selfNode = (\n      <div class=\"node-wrap\">\n        <div class={`node-wrap-box ${data.type} ${showErrorTip ? 'error' : ''}` }>\n          <el-tooltip content=\"未设置条件\" placement=\"top\" effect=\"dark\">\n            <div class=\"error-tip\" onClick={this.eventLancher.bind(ctx, \"edit\", data)}>!!!</div>\n          </el-tooltip>\n          {nodes[data.type].call(ctx, ctx, data, h)}\n          {addNodeButton.call(ctx, ctx, data, h)}\n        </div>\n      </div>\n    );\n\n  if (hasBranch(data)) {\n    // 如果节点是数组 一定为条件分支 添加分支样式包裹\n    // {data.childNode && NodeFactory.call(ctx, ctx, data.childNode, h)}\n    branchNode = (\n      <div class=\"branch-wrap\">\n        <div class=\"branch-box-wrap\">\n          <div class=\"branch-box  flex justify-center relative\">\n            <button\n              class=\"btn\"\n              onClick={this.eventLancher.bind(ctx, \"appendConditionNode\", data)}\n            >\n              添加条件\n            </button>\n            {data.conditionNodes.map(d => NodeFactory.call(ctx, ctx, d, h))}\n          </div>\n        </div>\n        {addNodeButton.call(ctx, ctx, data, h, true)}\n      </div>\n    );\n  }\n\n  if (isCondition(data)) {\n    return (\n      <div class=\"col-box\">\n        <div class=\"center-line\"></div>\n        <div class=\"top-cover-line\"></div>\n        <div class=\"bottom-cover-line\"></div>\n        {selfNode}\n        {branchNode}\n        {NodeFactory.call(ctx, ctx, data.childNode, h)}\n      </div>\n    );\n  }\n  res.push(selfNode);\n  branchNode && res.push(branchNode);\n  data.childNode && res.push(NodeFactory.call(ctx, ctx, data.childNode, h));\n  return res;\n}\n\nfunction addEndNode(h) {\n  return <section class=\"end-node\">流程结束</section>;\n}\n\nexport default {\n  props: {\n    //整个流程图的数据\n    data: { type: Object, required: true },\n    // 点击发布时需要校验节点数据完整性 此时打开校验模式\n    verifyMode: {type: Boolean, default: true},\n  },\n  watch:{\n    \n  },\n  // created(){\n  //   console.log(\"flowcard-props---\",this.data)\n  // },\n  methods: {\n    /**\n     *事件触发器 统筹本组件所有事件并转发到父组件中\n     * @param { Object } 包含event（事件名）和args（事件参数）两个参数\n     */\n    eventLancher(event, ...args) {\n      // args.slice(0,-1) vue 会注入MouseEvent到最后一个参数 去除事件对象\n      let param = { event, args: args.slice(0, -1) };\n      this.$emit(\"emits\", param);\n    }\n  },\n  render(h) {\n    return (\n      <div style=\"display: inline-flex; flex-direction: column; align-items: center;\">\n        {this.data && NodeFactory.call(this, this, this.data, h)}\n        {addEndNode(h)}\n      </div>\n    );\n  }\n};\n</script>\n\n<style lang=\"stylus\" scoped>\n@import 'index.styl';\n</style>","var render, staticRenderFns\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=66aec45f&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"66aec45f\",\n  null\n  \n)\n\nexport default component.exports","/**\n * 全站http配置\n * axios参数说明\n * isSerialize是否开启form表单提交\n * isToken是否需要token\n */\n import axios from 'axios';\n import {Message} from 'element-ui';\n//  import website from '@/config/website';\n//  import {Base64} from 'js-base64';\n//  import NProgress from 'nprogress';\n//  import 'nprogress/nprogress.css';\n\nvar basePath;\ntry {\n    var local = window.location;\n    var contextPath = local.pathname.split(\"/\")[1];\n    basePath = local.protocol + \"//\" + local.host + \"/\" + contextPath;\n} catch (e) {}\nif(process.env.VUE_APP_NODE_ENV=='production'){\n axios.defaults.baseURL= basePath\n}else{\n axios.defaults.baseURL= '/api'\n}\n //默认超时时间\n axios.defaults.timeout = 100000;\n //返回其他状态码\n axios.defaults.validateStatus = function (status) {\n   return status >= 200 && status <= 500;\n };\n //跨域请求，允许保存cookie\n axios.defaults.withCredentials = true;\n // NProgress 配置\n//  NProgress.configure({\n//    showSpinner: false\n//  });\n //http request拦截\n axios.interceptors.request.use(config => {\n   //开启 progress bar\n  //  NProgress.start();\n   const meta = (config.meta || {});\n   //headers中配置text请求\n   if (config.text === true) {\n     config.headers[\"Content-Type\"] = \"text/plain\";\n   }\n   //headers中配置serialize为true开启序列化\n  //  if (config.method === 'post' && meta.isSerialize === true) {\n  //    config.data = serialize(config.data);\n  //  }\n   return config\n }, error => {\n   return Promise.reject(error)\n });\n //http response 拦截\n axios.interceptors.response.use(res => {\n   //关闭 progress bar\n  //  NProgress.done();\n   //获取状态码\n  const status = (res.data.code || res.data.code === 0) || res.status;\n  //  const statusWhiteList = website.statusWhiteList || [];\n   const message = res.data.msg || res.data.error_description || '未知错误';\n   //如果在白名单里则自行catch逻辑处理\n  //  if (statusWhiteList.includes(status)) return Promise.reject(res);\n   //如果是401则跳转到登录页面\n  //  if (status === 401) store.dispatch('FedLogOut').then(() => router.push({path: '/login'}));\n  if (status === 401) alert('401')\n   // 如果请求为非200否者默认统一处理   code 1000 是针对凭证生成的特殊状态吗\n   if (status !== 200 && status !== 1000) {\n     Message({\n       message: `<section style=\"line-height: 22px\">${message}</section>`,\n       type: 'error',\n       dangerouslyUseHTMLString: true,\n       // duration: 0,\n       showClose: true,\n     });\n     return Promise.reject(new Error(message))\n   }\n   return res;\n }, error => {\n   console.log(error)\n  //  NProgress.done();\n   return Promise.reject(new Error(error));\n });\n \n export default axios;\n \n\n\n\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.properties)?_c('el-drawer',{staticClass:\"drawer\",staticStyle:{\"text-align\":\"left\"},attrs:{\"size\":\"550px\",\"visible\":_vm.visible,\"show-close\":false},on:{\"update:visible\":function($event){_vm.visible=$event},\"close\":_vm.cancel}},[(_vm.value && _vm.value.type=='start' && _vm.properties.title)?_c('header',{staticClass:\"header\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(_vm._s(_vm.properties.title))]):_c('header',{staticClass:\"header\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.titleInputVisible),expression:\"!titleInputVisible\"}],staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){_vm.titleInputVisible = true}}},[_vm._v(\" \"+_vm._s(_vm.properties.title)+\" \"),_c('i',{staticClass:\"el-icon-edit\"})]),_c('el-input',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.titleInputVisible),expression:\"titleInputVisible\"},{name:\"clickoutside\",rawName:\"v-clickoutside\",value:(function (_) { return _vm.titleInputVisible=false; }),expression:\"_ => titleInputVisible=false\"}],staticStyle:{\"z-index\":\"9\",\"max-width\":\"200px\"},attrs:{\"size\":\"mini\"},model:{value:(_vm.properties.title),callback:function ($$v) {_vm.$set(_vm.properties, \"title\", $$v)},expression:\"properties.title\"}}),(_vm.isConditionNode())?_c('el-select',{staticClass:\"priority-select\",attrs:{\"size\":\"mini\"},model:{value:(_vm.properties.priority),callback:function ($$v) {_vm.$set(_vm.properties, \"priority\", $$v)},expression:\"properties.priority\"}},_vm._l((_vm.priorityLength),function(item){return _c('el-option',{key:item,attrs:{\"value\":item-1,\"label\":'优先级'+item}})}),1):_vm._e()],1),(_vm.value && _vm.isConditionNode())?_c('section',{staticClass:\"condition-pane\"},[(_vm.showingPCons.includes(-1))?_c('row-wrapper',{attrs:{\"title\":\"发起人\"}},[_c('fc-org-select',{ref:\"condition-org\",attrs:{\"tabList\":['dep&user']},model:{value:(_vm.initiator),callback:function ($$v) {_vm.initiator=$$v},expression:\"initiator\"}})],1):_vm._e(),_vm._l((_vm.pconditions),function(item,index){return [(_vm.couldShowIt(item,'el-input-number','fc-date-duration','fc-time-duration','fc-amount', 'fc-calculate','number'))?_c('row-wrapper',{key:index,attrs:{\"title\":item.fieldName},scopedSlots:_vm._u([{key:\"action\",fn:function(){return [_c('i',{staticClass:\"el-icon-delete\",staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){return _vm.onDelCondition(item)}}})]},proxy:true}],null,true)},[_c('num-input',{key:index,staticStyle:{\"padding-right\":\"6px\"},attrs:{\"title\":_vm.timeTangeLabel(item)},model:{value:(item.conditionValue),callback:function ($$v) {_vm.$set(item, \"conditionValue\", $$v)},expression:\"item.conditionValue\"}})],1):_vm._e(),(_vm.couldShowIt(item,'el-select'))?_c('row-wrapper',{key:index,attrs:{\"title\":item.label},scopedSlots:_vm._u([{key:\"action\",fn:function(){return [_c('i',{staticClass:\"el-icon-delete\",staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){return _vm.onDelCondition(item)}}})]},proxy:true}],null,true)},[_c('el-select',{attrs:{\"placeholder\":\"请选择\",\"size\":\"small\"},model:{value:(item.conditionValue),callback:function ($$v) {_vm.$set(item, \"conditionValue\", $$v)},expression:\"item.conditionValue\"}},_vm._l((item.options),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1):_vm._e()]}),_c('div',{staticStyle:{\"padding-left\":\"10px\",\"margin-top\":\"2em\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\",\"icon\":\"el-icon-plus\"},on:{\"click\":function($event){_vm.dialogVisible=true}}},[_vm._v(\"添加条件\")]),_c('span',{staticStyle:{\"color\":\"#aaa\",\"margin-left\":\"16px\"}},[_vm._v(\"还有\"+_vm._s(_vm.notUseConNum)+\"个可用条件\")])],1)],2):_vm._e(),(_vm.value && (_vm.isApproverNode() || _vm.isStartNode()))?_c('section',{staticClass:\"approver-pane\",staticStyle:{\"height\":\"100%\"}},[_c('el-tabs',{staticClass:\"pane-tab\",model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{attrs:{\"label\":'设置' + (_vm.value.type === 'approver' ? '审批人' : '发起人'),\"name\":\"config\"}},[(_vm.value.type === 'start')?_c('el-row',{staticStyle:{\"padding\":\"10px\"}},[_c('el-col',{staticStyle:{\"font-size\":\"12px\"},attrs:{\"span\":4}},[_vm._v(\"发起人\")]),_c('el-col',{staticStyle:{\"padding-left\":\"12px\"},attrs:{\"span\":18}},[_c('fc-org-select',{ref:\"start-org\",attrs:{\"tabList\":['dep&user']},model:{value:(_vm.initiator),callback:function ($$v) {_vm.initiator=$$v},expression:\"initiator\"}})],1)],1):(_vm.value.type === 'approver')?_c('div',[_c('div',{staticStyle:{\"padding\":\"12px\"}},[_c('el-radio-group',{staticStyle:{\"line-height\":\"32px\"},on:{\"change\":_vm.resetOrgColl},model:{value:(_vm.approverForm.assigneeType),callback:function ($$v) {_vm.$set(_vm.approverForm, \"assigneeType\", $$v)},expression:\"approverForm.assigneeType\"}},_vm._l((_vm.assigneeTypeOptions),function(item){return _c('el-radio',{key:item.value,staticClass:\"radio-item\",attrs:{\"label\":item.value}},[_vm._v(_vm._s(item.label))])}),1)],1),_c('div',{staticStyle:{\"border-bottom\":\"1px solid #e5e5e5\",\"padding-bottom\":\"1rem\"}},[(_vm.approverForm.assigneeType === 'myself')?_c('div',{staticClass:\"option-box\",staticStyle:{\"color\":\"#a5a5a5\"}},[_vm._v(\"发起人自己将作为审批人处理审批单\")]):(_vm.approverForm.assigneeType === 'optional')?_c('div',{staticClass:\"option-box\"},[_c('p',[_vm._v(\"可选多人\")]),_c('el-switch',{attrs:{\"active-color\":\"#13ce66\"},model:{value:(_vm.approverForm.optionalMultiUser),callback:function ($$v) {_vm.$set(_vm.approverForm, \"optionalMultiUser\", $$v)},expression:\"approverForm.optionalMultiUser\"}})],1):(_vm.approverForm.assigneeType === 'director')?_c('div',[_c('div',{staticStyle:{\"font-size\":\"14px\",\"padding-left\":\"1rem\"}},[_vm._v(\"发起人的 \"),_c('el-select',{attrs:{\"size\":\"small\"},model:{value:(_vm.directorLevel),callback:function ($$v) {_vm.directorLevel=$$v},expression:\"directorLevel\"}},_vm._l((5),function(item){return _c('el-option',{key:item,attrs:{\"label\":item === 1 ? '直接主管': (\"第\" + item + \"级主管\"),\"value\":item}})}),1),_c('br'),_c('el-checkbox',{staticStyle:{\"margin-top\":\"1rem\"},model:{value:(_vm.useDirectorProxy),callback:function ($$v) {_vm.useDirectorProxy=$$v},expression:\"useDirectorProxy\"}},[_vm._v(\"找不到主管时，由上级主管代审批\")])],1)]):_c('div',{staticClass:\"option-box\"},[_c('fc-org-select',{ref:\"approver-org\",attrs:{\"buttonType\":\"button\",\"title\":_vm.getAssignTypeLabel(),\"tabList\":_vm.fcOrgTabList.includes(_vm.approverForm.assigneeType) ? [_vm.approverForm.assigneeType] : ['dep']},on:{\"change\":_vm.onOrgChange},model:{value:(_vm.orgCollection),callback:function ($$v) {_vm.orgCollection=$$v},expression:\"orgCollection\"}})],1)]),(_vm.orgCollection[_vm.approverForm.assigneeType] && _vm.orgCollection[_vm.approverForm.assigneeType].length > 1 || ['optional','director'].includes(_vm.approverForm.assigneeType))?_c('div',{staticClass:\"option-box\",staticStyle:{\"border-bottom\":\"1px solid #e5e5e5\"}},[_c('p',[_vm._v(\"多人审批时采用的审批方式\")]),_c('el-radio',{staticClass:\"radio-item\",attrs:{\"label\":true},model:{value:(_vm.approverForm.counterSign),callback:function ($$v) {_vm.$set(_vm.approverForm, \"counterSign\", $$v)},expression:\"approverForm.counterSign\"}},[_vm._v(\"会签（须所有审批人同意）\")]),_c('br'),_c('el-radio',{staticClass:\"radio-item\",attrs:{\"label\":false},model:{value:(_vm.approverForm.counterSign),callback:function ($$v) {_vm.$set(_vm.approverForm, \"counterSign\", $$v)},expression:\"approverForm.counterSign\"}},[_vm._v(\"或签（一名审批人同意或拒绝即可）\")])],1):_vm._e()]):_vm._e()],1)],1)],1):_vm._e(),(_vm.value && _vm.isCopyNode())?_c('section',{staticStyle:{\"padding-left\":\"1rem\"}},[_c('p',[_vm._v(\"抄送人\")]),_c('fc-org-select',{ref:\"copy-org\",attrs:{\"tabList\":['user'],\"buttonType\":\"button\",\"title\":\"抄送人\"},model:{value:(_vm.properties.menbers),callback:function ($$v) {_vm.$set(_vm.properties, \"menbers\", $$v)},expression:\"properties.menbers\"}}),_c('br'),_c('el-checkbox',{model:{value:(_vm.properties.userOptional),callback:function ($$v) {_vm.$set(_vm.properties, \"userOptional\", $$v)},expression:\"properties.userOptional\"}},[_vm._v(\"允许发起人自选抄送人\")])],1):_vm._e(),_c('el-dialog',{attrs:{\"title\":\"选择条件\",\"visible\":_vm.dialogVisible,\"width\":\"500px\",\"append-to-body\":true,\"custom-class\":\"condition-dialog\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-checkbox-group',{model:{value:(_vm.showingPCons),callback:function ($$v) {_vm.showingPCons=$$v},expression:\"showingPCons\"}},[_c('el-checkbox',{attrs:{\"label\":-1}},[_vm._v(\"发起人\")]),_vm._l((_vm.pconditions),function(item,index){return _c('el-checkbox',{key:index,attrs:{\"label\":item.field}},[_vm._v(\" \"+_vm._s(item.fieldName)+\" \")])})],2)],1),_c('div',{staticClass:\"actions\"},[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":_vm.cancel}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.confirm}},[_vm._v(\"确定\")])],1)],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render, staticRenderFns\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=cb157296&scoped=true&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cb157296\",\n  null\n  \n)\n\nexport default component.exports","import request from '@/axios';\n\n// 流程图的数据\nexport const getProcessData = (accountbookId,billType) => {\n  return request({\n    url:  'oaBillConfigController.do?getProcessConfig',\n    method: 'get',\n    params:{\n      accountbookId,\n      billType\n    }\n  })\n}\n\n//获取条件\nexport const getField = (accountbookId,billType) => {\n  return request({\n    url: 'oaBillConfigController.do?getFieldConfig',\n    method: 'get',\n    params:{\n      accountbookId,\n      billType\n    },\n  })\n}\n\n//保存数据\nexport const saveData = (accountbookId,billType,data)=>{\n  return request({\n    url:'oaBillConfigController.do?saveProcessConfig',\n    method:'post',\n    params:{\n      accountbookId,\n      billType\n    },\n    data:data\n  })\n}\n\n//获取部门\nexport const getDept =(accountbookId)=>{\n  return request({\n    url:\"newDepartDetailController.do?treeList\",\n    method:\"get\",\n    params:{\n      accountbookId\n    }\n  })\n}\n//获取部门下的人员\nexport const getUsersByDept = (departDetailId)=>{\n  return request({\n    url:\"newDepartDetailController.do?userListByDepartDetailId\",\n    method:\"get\",\n    params:{\n      departDetailId\n    }\n  })\n}\n//搜索查询人员\nexport const getUsersBySearch = (accountbookId,userName)=>{\n  return request({\n    url:'newDepartDetailController.do?userListByUserName',\n    method:\"get\",\n    params:{\n      accountbookId,\n      userName,\n    }\n\n  })\n}","var render = function (_h,_vm) {var _c=_vm._c;return _c('el-row',{staticClass:\"cmp-container\"},[_c('el-col',{staticClass:\"label\",attrs:{\"span\":4}},[_vm._v(_vm._s(_vm.props.title))]),_c('el-col',{attrs:{\"span\":18}},[_vm._t(\"default\")],2),_c('el-col',{staticClass:\"icon-wrapper\",attrs:{\"span\":2}},[_vm._t(\"action\")],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./RowWrapper.vue?vue&type=template&id=4f652313&scoped=true&functional=true&\"\nvar script = {}\nimport style0 from \"./RowWrapper.vue?vue&type=style&index=0&id=4f652313&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  true,\n  null,\n  \"4f652313\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-row',{attrs:{\"gutter\":12}},[_c('el-col',{attrs:{\"span\":_vm.isRange ? 24 : 12}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"size\":\"small\",\"placeholder\":\"请选择\"},on:{\"change\":_vm.onTypeChange},model:{value:(_vm.cloneData.type),callback:function ($$v) {_vm.$set(_vm.cloneData, \"type\", $$v)},expression:\"cloneData.type\"}},[_c('el-option',{attrs:{\"label\":\"小于\",\"value\":\"lt\"}}),_c('el-option',{attrs:{\"label\":\"小于等于\",\"value\":\"lte\"}}),_c('el-option',{attrs:{\"label\":\"大于\",\"value\":\"gt\"}}),_c('el-option',{attrs:{\"label\":\"大于等于\",\"value\":\"gte\"}}),_c('el-option',{attrs:{\"label\":\"等于\",\"value\":\"eq\"}}),_c('el-option',{attrs:{\"label\":\"介于两数之间\",\"value\":\"bet\"}})],1)],1),_c('el-col',{attrs:{\"span\":_vm.isRange?24:12}},[(!_vm.isRange)?_c('el-input-number',{staticStyle:{\"width\":\"100%\"},attrs:{\"size\":\"small\",\"controls-position\":\"right\"},on:{\"change\":_vm.update},model:{value:(_vm.cloneData.value),callback:function ($$v) {_vm.$set(_vm.cloneData, \"value\", $$v)},expression:\"cloneData.value\"}}):_c('div',{staticStyle:{\"width\":\"100%\",\"overflow\":\"hidden\",\"margin-top\":\"10px\"}},[_c('el-col',{staticStyle:{\"padding-left\":\"0\"},attrs:{\"span\":6}},[_c('el-input-number',{staticStyle:{\"width\":\"100%\"},attrs:{\"size\":\"small\",\"controls-position\":\"right\"},on:{\"change\":_vm.update},model:{value:(_vm.cloneData.value[0]),callback:function ($$v) {_vm.$set(_vm.cloneData.value, 0, $$v)},expression:\"cloneData.value[0]\"}})],1),_c('el-col',{attrs:{\"span\":4}},[_c('el-select',{attrs:{\"size\":\"small\",\"placeholder\":\"请选择\"},on:{\"change\":_vm.update},model:{value:(_vm.cloneData.value[1]),callback:function ($$v) {_vm.$set(_vm.cloneData.value, 1, $$v)},expression:\"cloneData.value[1]\"}},[_c('el-option',{attrs:{\"label\":\"<\",\"value\":\"lt\"}}),_c('el-option',{attrs:{\"label\":\"≤\",\"value\":\"lte\"}})],1)],1),_c('el-col',{staticClass:\"range-title\",attrs:{\"span\":4,\"title\":_vm.title}},[_vm._v(_vm._s(_vm.title))]),_c('el-col',{attrs:{\"span\":4}},[_c('el-select',{attrs:{\"size\":\"small\",\"placeholder\":\"请选择\"},on:{\"change\":_vm.update},model:{value:(_vm.cloneData.value[2]),callback:function ($$v) {_vm.$set(_vm.cloneData.value, 2, $$v)},expression:\"cloneData.value[2]\"}},[_c('el-option',{attrs:{\"label\":\"<\",\"value\":\"lt\"}}),_c('el-option',{attrs:{\"label\":\"≤\",\"value\":\"lte\"}})],1)],1),_c('el-col',{staticStyle:{\"padding-left\":\"0\"},attrs:{\"span\":6}},[_c('el-input-number',{staticStyle:{\"width\":\"100%\"},attrs:{\"size\":\"small\",\"controls-position\":\"right\"},on:{\"change\":_vm.update},model:{value:(_vm.cloneData.value[3]),callback:function ($$v) {_vm.$set(_vm.cloneData.value, 3, $$v)},expression:\"cloneData.value[3]\"}})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n <el-row :gutter=\"12\">\n   <el-col :span=\"isRange ? 24 : 12\">\n     <el-select\n       v-model=\"cloneData.type\"\n       size=\"small\"\n       placeholder=\"请选择\"\n       style=\"width:100%;\"\n       @change=\"onTypeChange\"\n     >\n       <el-option label=\"小于\" value=\"lt\"></el-option>\n       <el-option label=\"小于等于\" value=\"lte\"></el-option>\n       <el-option label=\"大于\" value=\"gt\"></el-option>\n       <el-option label=\"大于等于\" value=\"gte\"></el-option>\n       <el-option label=\"等于\" value=\"eq\"></el-option>\n       <el-option label=\"介于两数之间\" value=\"bet\"></el-option>\n     </el-select>\n   </el-col>\n   <el-col :span=\"isRange?24:12\">\n     <el-input-number\n       size=\"small\"\n       v-if=\"!isRange\"\n       style=\"width:100%;\"\n       v-model=\"cloneData.value\"\n       controls-position=\"right\"\n       @change=\"update\"\n     ></el-input-number>\n     <div style=\"width:100%;overflow:hidden;margin-top:10px;\" v-else>\n       <el-col :span=\"6\" style=\"padding-left:0;\">\n         <el-input-number\n           size=\"small\"\n           v-model=\"cloneData.value[0]\"\n           controls-position=\"right\"\n           @change=\"update\"\n           style=\"width:100%;\"\n         ></el-input-number>\n       </el-col>\n       <el-col :span=\"4\">\n         <el-select v-model=\"cloneData.value[1]\" size=\"small\" placeholder=\"请选择\" @change=\"update\">\n           <el-option label=\"<\" value=\"lt\"></el-option>\n           <el-option label=\"≤\" value=\"lte\"></el-option>\n         </el-select>\n       </el-col>\n       <el-col :span=\"4\" class=\"range-title\" :title=\"title\">{{title}}</el-col>\n       <el-col :span=\"4\">\n         <el-select v-model=\"cloneData.value[2]\" size=\"small\" placeholder=\"请选择\" @change=\"update\">\n           <el-option label=\"<\" value=\"lt\"></el-option>\n           <el-option label=\"≤\" value=\"lte\"></el-option>\n         </el-select>\n       </el-col>\n       <el-col :span=\"6\" style=\"padding-left:0;\">\n         <el-input-number\n           size=\"small\"\n           v-model=\"cloneData.value[3]\"\n           controls-position=\"right\"\n           @change=\"update\"\n           style=\"width:100%;\"\n         ></el-input-number>\n       </el-col>\n     </div>\n   </el-col>\n </el-row>\n</template>\n<script>\nimport RowWrapper from './RowWrapper'\nexport default {\n  model: {\n    prop: \"value\",\n    event: \"update\"\n  },\n  props: [\"value\", \"title\"],\n  components: {\n    \"row-wrapper\": RowWrapper\n  },\n  data() {\n    let cloneData = JSON.parse(JSON.stringify(this.value || {}));\n    cloneData = Object.assign({ type: \"gt\", value: null }, cloneData);\n    return {\n      cloneData\n    };\n  },\n  computed: {\n    isRange() {\n      return this.cloneData.type === \"bet\";\n    }\n  },\n  mounted(){\n    this.update()\n  },\n  methods: {\n    onTypeChange(newVal) {\n      if (newVal === \"bet\") {\n        this.cloneData.value = [1, \"lt\", \"lt\", 2];\n      }\n      this.update();\n    },\n    update() {\n      this.$emit(\"update\", this.cloneData);\n    }\n  }\n};\n</script>\n<style lang=\"stylus\" scoped>\n// 三点省略 支持单行多行\n// Mixin { n:Number } n：省略行数限制\nellipsis(n) {\n  overflow: hidden;\n  text-overflow: ellipsis;\n\n  if (n > 1) {\n    display: -webkit-box;\n    -webkit-line-clamp: n;\n    -webkit-box-orient: vertical;\n  } else {\n    white-space: nowrap;\n  }\n}\n\n.cmp-container {\n  line-height: 30px;\n  padding: 10px;\n\n  >>> .el-input--small .el-input__inner {\n    padding-left: 10px;\n    padding-right: 15px;\n  }\n\n  >>> .el-input-number.is-controls-right .el-input__inner {\n    padding-left: 15px;\n    padding-right: 0;\n    text-align: left;\n  }\n\n  >>> .el-input:hover .el-input__inner {\n    border-color: #529eff;\n  }\n}\n\n.label {\n  font-size: 12px;\n  padding-right: 16px !important;\n  ellipsis(2);\n}\n\n.range-title {\n  font-size: 12px;\n  text-align: center;\n  ellipsis(1);\n}\n\n.icon-wrapper {\n  i {\n    cursor: pointer;\n    color: #c5c5c5;\n\n    &:hover {\n      color: #333;\n    }\n  }\n}\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NumInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NumInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NumInput.vue?vue&type=template&id=3e566cb4&scoped=true&\"\nimport script from \"./NumInput.vue?vue&type=script&lang=js&\"\nexport * from \"./NumInput.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NumInput.vue?vue&type=style&index=0&id=3e566cb4&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3e566cb4\",\n  null\n  \n)\n\nexport default component.exports","\n<template>\n  <el-drawer\n    size=\"550px\"\n    class=\"drawer\"\n    :visible.sync=\"visible\"\n    :show-close=\"false\"\n    style=\"text-align:left;\"\n    @close=\"cancel\"\n    v-if=\"properties\"\n  >\n    <!-- 标题 -->\n    <header slot=\"title\" class=\"header\"  v-if=\"value && value.type=='start' && properties.title\">{{properties.title}}</header>\n    <header slot=\"title\" class=\"header\" v-else>\n      <span @click=\"titleInputVisible = true\" v-show=\"!titleInputVisible\" style=\"cursor:pointer;\">\n        {{properties.title}}\n        <i class=\"el-icon-edit\"></i>\n      </span>\n      <el-input\n        size=\"mini\"\n        v-model=\"properties.title\"\n        v-show=\"titleInputVisible\"\n        v-clickoutside=\"_ => titleInputVisible=false\"\n        style=\"z-index:9;max-width: 200px;\"\n      ></el-input>\n      <el-select\n        v-if=\"isConditionNode()\"\n        v-model=\"properties.priority\"\n        size=\"mini\"\n        class=\"priority-select\" >\n        <el-option v-for=\"item in priorityLength\" :key=\"item\" :value=\"item-1\" :label=\"'优先级'+item\"></el-option>\n      </el-select>\n    </header>\n\n    <!-- 条件  -->\n    <section class=\"condition-pane\" v-if=\"value && isConditionNode()\">\n      <row-wrapper title=\"发起人\" v-if=\"showingPCons.includes(-1)\">\n          <fc-org-select ref=\"condition-org\" :tabList=\"['dep&user']\" v-model=\"initiator\" />\n      </row-wrapper>\n      \n      <template v-for=\"(item, index) in pconditions\">\n        <!-- 计数 -->\n        <row-wrapper \n          :key=\"index\" \n          :title=\"item.fieldName\" \n          v-if=\"couldShowIt(item,'el-input-number','fc-date-duration','fc-time-duration','fc-amount', 'fc-calculate','number')\">\n          <num-input\n            :key=\"index\"\n            :title=\"timeTangeLabel(item)\"\n            v-model=\"item.conditionValue\"\n            style=\"padding-right: 6px;\"\n          ></num-input>\n          <template v-slot:action>\n            <i  class=\"el-icon-delete\" style=\"cursor: pointer;\" @click=\"onDelCondition(item)\"></i>\n          </template>\n        </row-wrapper>\n        <!-- 单选组 -->\n        <!-- <row-wrapper \n          :key=\"index\" \n          :title=\"item.label\" \n          v-if=\"couldShowIt(item,'el-radio-group')\">\n          <el-radio-group v-model=\"item.conditionValue\" class=\"radio-group\">\n            <el-radio v-for=\"item in item.options\" :label=\"item.label\" :key=\"item.label\">{{item.label}}</el-radio>\n          </el-radio-group>\n          <template v-slot:action>\n            <i  class=\"el-icon-delete\" style=\"cursor: pointer;\" @click=\"onDelCondition(item)\"></i>\n          </template>\n        </row-wrapper> -->\n        \n        <!-- 下拉 -->\n        <row-wrapper \n          :key=\"index\" \n          :title=\"item.label\" \n          v-if=\"couldShowIt(item,'el-select')\">\n          <el-select v-model=\"item.conditionValue\" placeholder=\"请选择\" size=\"small\">\n            <el-option\n              v-for=\"item in item.options\"\n              :key=\"item.value\"\n              :label=\"item.label\"\n              :value=\"item.value\"\n            ></el-option>\n          </el-select>\n          <template v-slot:action>\n              <i  class=\"el-icon-delete\" style=\"cursor: pointer;\" @click=\"onDelCondition(item)\"></i>\n            </template>\n        </row-wrapper>\n          <!-- 组织机构 -->\n        <!-- <row-wrapper :key=\"index\" :title=\"item.label\" v-if=\"couldShowIt(item,'fc-org-select')\">\n          <fc-org-select \n          v-model=\"item.conditionValue\" \n          :ref=\"'org' + index\" \n          :tabList=\"['dep']\" \n          />\n          <template v-slot:action>\n            <i  class=\"el-icon-delete\" style=\"cursor: pointer;\" @click=\"onDelCondition(item)\"></i>\n          </template>\n        </row-wrapper> -->\n      </template>\n      <div style=\"padding-left:10px;margin-top:2em;\">\n        <el-button type=\"primary\" size=\"small\" icon=\"el-icon-plus\" @click=\"dialogVisible=true\">添加条件</el-button>\n        <span style=\"color:#aaa;margin-left:16px;\">还有{{notUseConNum}}个可用条件</span>\n      </div>\n    </section>\n\n    <!-- 审批人 -->\n    <section class=\"approver-pane\" style=\"height:100%;\" v-if=\"value && (isApproverNode() || isStartNode())\">\n      <el-tabs v-model=\"activeName\"  class=\"pane-tab\">\n        <el-tab-pane :label=\"'设置' + (value.type === 'approver' ? '审批人' : '发起人')\" name=\"config\">\n          <!-- 开始节点 -->\n          <el-row style=\"padding: 10px;\"  v-if=\"value.type === 'start'\">\n            <el-col :span=\"4\" style=\"font-size: 12px;\">发起人</el-col>\n            <el-col :span=\"18\" style=\"padding-left: 12px;\">\n              <fc-org-select ref=\"start-org\" :tabList=\"['dep&user']\" v-model=\"initiator\" />\n            </el-col>\n          </el-row>\n          \n          <div v-else-if=\"value.type === 'approver'\">\n            <div style=\"padding: 12px;\">\n              <el-radio-group v-model=\"approverForm.assigneeType\" style=\"line-height: 32px;\" @change=\"resetOrgColl\">\n                <el-radio v-for=\"item in assigneeTypeOptions\" :label=\"item.value\" :key=\"item.value\" class=\"radio-item\">{{item.label}}</el-radio>\n              </el-radio-group>\n            </div>\n            <div style=\"border-bottom: 1px solid #e5e5e5;padding-bottom: 1rem;\">\n              <div v-if=\"approverForm.assigneeType === 'myself'\"  class=\"option-box\" style=\"color: #a5a5a5;\">发起人自己将作为审批人处理审批单</div>\n              <div v-else-if=\"approverForm.assigneeType === 'optional'\"  class=\"option-box\">\n                <p>可选多人</p>\n                <el-switch v-model=\"approverForm.optionalMultiUser\" active-color=\"#13ce66\"> </el-switch>\n                <!-- <p>选择范围</p>\n                <el-select v-model=\"approverForm.optionalRange\" size=\"mini\">\n                  <el-option v-for=\"(item, index) in rangeOptions\" :key=\"index\" :label=\"item.label\" :value=\"item.value\"\n                    :disabled=\"item.disabled\"></el-option>\n                </el-select> -->\n              </div>\n              <!-- 主管  -->\n              <div v-else-if=\"approverForm.assigneeType === 'director'\">\n                <div style=\"font-size: 14px;padding-left: 1rem;\">发起人的 \n                  <el-select v-model=\"directorLevel\" size=\"small\">\n                    <el-option v-for=\"item in 5\" :key=\"item\" :label=\"item === 1 ? '直接主管': `第${item}级主管`\" :value=\"item\"\n                    ></el-option>\n                  </el-select>\n                  <br>\n                  <el-checkbox v-model=\"useDirectorProxy\" style=\"margin-top: 1rem;\">找不到主管时，由上级主管代审批</el-checkbox>\n                </div>\n              </div>\n              <div v-else class=\"option-box\">\n                <fc-org-select  \n                ref=\"approver-org\" \n                buttonType=\"button\" \n                v-model=\"orgCollection\" \n                :title=\"getAssignTypeLabel()\" \n                :tabList=\"fcOrgTabList.includes(approverForm.assigneeType) ? [approverForm.assigneeType] : ['dep']\" \n                @change=\"onOrgChange\" />\n              </div>\n            </div>\n            <div class=\"option-box\" style=\"border-bottom: 1px solid #e5e5e5;\" v-if=\"orgCollection[approverForm.assigneeType] && orgCollection[approverForm.assigneeType].length > 1 || ['optional','director'].includes(approverForm.assigneeType)\">\n              <p>多人审批时采用的审批方式</p>\n              <el-radio v-model=\"approverForm.counterSign\" :label=\"true\" class=\"radio-item\">会签（须所有审批人同意）</el-radio>\n              <br>\n              <el-radio  v-model=\"approverForm.counterSign\"  :label=\"false\" class=\"radio-item\">或签（一名审批人同意或拒绝即可）</el-radio>\n            </div>\n          </div>\n\n        </el-tab-pane>\n        <!-- <el-tab-pane label=\"表单权限\" name=\"formAuth\">\n          <div class=\"form-auth-table\">\n            <header class=\"auth-table-header\">\n              <div class=\"row\">\n                <div class=\"label\">表单字段</div>\n                <el-radio-group v-model=\"globalFormOperate\"  class=\"radio-group\" @change=\"changeAllFormOperate\">\n                  <el-radio :label=\"2\" style=\"margin-left: 1rem;\">可编辑</el-radio>\n                  <el-radio :label=\"1\">只读</el-radio>\n                  <el-radio :label=\"0\">隐藏</el-radio>\n                </el-radio-group>\n              </div>\n            </header>\n            <div class=\"auth-table-body\">\n              <div v-for=\"item in getFormOperates()\" :key=\"item.formId\" class=\"row\">\n                <div class=\"label\">\n                  <span class=\"required\" v-show=\"item.required\">*</span>\n                  {{item.label}}\n                </div>\n                <el-radio-group v-model=\"item.formOperate\"  class=\"radio-group\">\n                  <el-radio :label=\"2\" style=\"margin-left: 1rem;\"><span style=\"opacity: 0;\">可编辑</span></el-radio>\n                  <el-radio :label=\"1\"><span style=\"opacity: 0;\">只读</span></el-radio>\n                  <el-radio :label=\"0\"><span style=\"opacity: 0;\">隐藏</span></el-radio>\n                </el-radio-group>\n              </div>\n            </div>\n          </div>\n        </el-tab-pane> -->\n      </el-tabs>\n    </section>\n\n    <!-- 抄送人 -->\n    <section  v-if=\"value && isCopyNode()\" style=\"padding-left: 1rem;\">\n      <p>抄送人</p>\n      <fc-org-select ref=\"copy-org\" :tabList=\"['user']\" v-model=\"properties.menbers\" buttonType=\"button\" title=\"抄送人\" />\n      <br>\n      <el-checkbox v-model=\"properties.userOptional\">允许发起人自选抄送人</el-checkbox>\n    </section>\n\n    <!-- 选择权限条件的弹窗 -->\n    <el-dialog title=\"选择条件\" :visible.sync=\"dialogVisible\" width=\"500px\" :append-to-body=\"true\" custom-class=\"condition-dialog\">\n      <el-checkbox-group v-model=\"showingPCons\">\n        <!-- 发起人默认就有 -->\n        <el-checkbox :label=\"-1\">发起人</el-checkbox>\n        <el-checkbox v-for=\"(item,index) in pconditions\" :key=\"index\" :label=\"item.field\">\n         {{item.fieldName}}\n        </el-checkbox>\n      </el-checkbox-group>\n    </el-dialog>\n\n    <div class=\"actions\">\n      <el-button size=\"small\" @click=\"cancel\">取消</el-button>\n      <el-button size=\"small\" type=\"primary\" @click=\"confirm\">确定</el-button>\n    </div>\n  </el-drawer>\n</template>\n<script>\nimport {getField} from \"@/api/index.js\"\n//点击被插入该指令的元素外的任意空白处，触发指令所绑定的方法。\nimport Clickoutside from \"element-ui/src/utils/clickoutside\"\nimport { NodeUtils } from \"../FlowCard/util.js\"\n//添加的表单信息条的样式\nimport RowWrapper from './RowWrapper';\n//金额组件？\nimport NumInput from \"./NumInput\"\nconst rangeType = {\n  'lt': '<',\n  'lte':'≤',\n  'gt':'>',\n  'gte':'≥',\n  'eq': '=',\n}\nconst rangeTypeParams = {\n  'lt': '<',\n  'lte':'<=',\n  'gt':'>',\n  'gte':'>=',\n  'eq': '=',\n}\nconst defaultApproverForm = {\n  approvers:[], // 审批人集合\n  assigneeType: \"user\", // 指定审批人\n  // formOperates:[], // 表单操作权限集合\n  counterSign: true, //是否为会签\n  // 审批类型为自选 出现 optionalMultiUser optionalRange\n  optionalMultiUser: false,//是否可选多人\n  // optionalRange: 'ALL', // USER<最多十个> / ALL / ROLE      发起人自选的选择范围（全公司，指定成员，角色）\n}\nexport default {\n  props: [/*当前节点数据*/\"value\", /*整个节点数据*/\"processData\"],\n  data() {\n    return {\n      fcOrgTabList:['dep', 'role', 'user', 'position'],\n      visible: false,  // 控制面板显隐\n      // globalFormOperate: null,  // 统一设置节点表单权限\n      titleInputVisible: false, // 是否显示标题输入框  startNode 不显示\n      activeName: \"config\", // or formAuth  Tab面板key\n      showingPCons: [], // 用户选择了得条件  被选中的才会被展示在面板上编辑\n      pconditions: [], // 从vuex中获取的可以作为流程图条件的集合(弹窗里显示的条件)\n      dialogVisible: false, // 控制流程条件选项Dialog显隐\n      properties: {},// 当前节点数据\n      // 发起人  start节点和condition节点需要\n      initiator:{\n        'dep&user': []\n      }, \n      priorityLength: 0, // 当为条件节点时  显示节点优先级选项的数据\n      //处理审批人的时候选择人的数据\n      orgCollection:{\n        dep: [],\n        role: [],\n        user: [],\n        position: []\n      },\n      useDirectorProxy: true, // 找不到主管时 上级主管代理审批\n      directorLevel: 1,  // 审批主管级别\n      startForm:{\n        formOperates: []\n      },\n      approverForm: JSON.parse(JSON.stringify(defaultApproverForm)),\n      //目前没用到\n      optionalOptions: [\n        {\n          label: '自选一个人',\n          value: false\n        }, {\n          label: '自选多个人',\n          value: true\n        }],\n      //选择范围（当审批节点为发起人自选的时候使用）\n      // rangeOptions: [\n      //     {\n      //     label: '全公司',\n      //     value: 'ALL'\n      //   }, {\n      //     label: '指定成员',\n      //     value: 'USER'\n      //   }, {\n      //     label: '角色',\n      //     value: 'ROLE'\n      // }],\n      //设置审批人类型\n      assigneeTypeOptions:[\n        {\n          label:'指定成员',\n          value: 'user',\n          id:1\n        },\n        {\n          label:'主管',\n          value: 'director',\n          id:2\n        },\n        // {\n        //   label:'角色',\n        //   value: 'role'\n        // },\n        // {\n        //   label:'岗位',\n        //   value: 'position'\n        // },\n        {\n          label:'发起人自己',\n          value: 'myself',\n          id:3\n        },\n        {\n          label:'发起人自选',\n          value: 'optional',\n          id:4\n      }],\n      approverConfig:{},//新增的审批人的配置信息---用于配置bpmn\n    };\n  },\n  computed: {\n    // 未使用的条件个数\n    notUseConNum() {\n      // 发起人是默认就有得  所以需要加 1\n      return this.pconditions.length - this.showingPCons.length + 1;\n    },\n    // usedFormItems(){\n    //   return this.$store.state.formItemList\n    // }\n  },\n  created(){\n    this.getCondition()\n  },\n  directives: {\n    Clickoutside\n  },\n  methods: {\n    //获取表单权限的列表\n    // getFormOperates(){\n    //   let res = []\n    //   this.isApproverNode() && (res = this.approverForm.formOperates)\n    //   this.isStartNode() && (res = this.startForm.formOperates)\n    //   return res\n    // },\n    resetOrgColl(){\n      for(let key in this.orgCollection){\n        this.$set(this.orgCollection, key, [])\n      }\n    },\n    //审批人的时候涉及到的方法\n    onOrgChange(data){ },\n    //处理时间表单的时长\n    timeTangeLabel(item){\n      const index = ['fc-time-duration','fc-date-duration'].findIndex(t => t === item.tag)\n      if(index > -1){\n        return '时长' + ['(小时)','(天)'][index]\n      }else{  \n        return item.label\n      }\n    },\n    //设置审批人的时候获取他的title\n    getAssignTypeLabel(){\n      const res = this.assigneeTypeOptions.find(t => t.value === this.approverForm.assigneeType)\n      return res ? res.label : ''\n    },\n    //表单权限改变\n    // changeAllFormOperate(val){\n    //   const target = this.isStartNode() ? this.startForm : this.approverForm\n    //   target.formOperates.forEach(t => t.formOperate = val)\n    // },\n    // 是否可以显示当前条件组件\n    couldShowIt(item, ...tag) {\n      return tag.includes(item.fieldType)  && this.showingPCons.includes(item.field);\n    },\n    //初始化节点的表单权限（即formOperates字段）\n    // initFormOperates(target){\n    //   const formOperates = target.properties && target.properties.formOperates || []\n    //   // 自定义组件不加入权限控制\n    //   const res = []\n    //   const defaultType = this.isApproverNode() ? 1 : 2 // 操作权限 0 隐藏 1 只读 2 可编辑\n    //   const getPermissionById = id => {\n    //     const permission = formOperates.find(t => t.formId === id)\n    //     return permission !== undefined ? permission.formOperate : defaultType\n    //   }\n    //   const format = (list, parentName = '') => list.map(t => {\n    //     const data = {\n    //         formId: t.formId, \n    //         required: t.required,\n    //         label: parentName ? [parentName, t.label].join('.') : t.label, \n    //         formOperate: getPermissionById(t.formId)\n    //     }\n    //     res.push(data)\n    //     Array.isArray(t.children) && format(t.children, t.label)\n    //   })\n    //   const formItems = this.$store.state.formItemList.filter(t => t.cmpType !== 'custom')\n    //   format(formItems)\n    //   return res\n    // },\n    //获取当前节点的数据信息 （给data里的properties赋值当前节点下的properties,目前没有用到）\n    initCopyNode () {\n      this.properties = this.value.properties\n    },\n    //处理开始节点的发起人(initInitiator)和表单权限(formOperates)\n    initStartNodeData(){\n      this.initInitiator()\n      // this.startForm.formOperates = this.initFormOperates(this.value)\n    },\n    //抄送节点--点击确认按钮\n    copyNodeConfirm () {\n      console.log(\"this.properties.menbers\",this.properties.menbers)\n      let users=[]\n        Object.keys(this.properties.menbers)&&Object.keys(this.properties.menbers).forEach(key=>[\n          users =this.properties.menbers[key].map(t=>t.id)\n        ])\n      let copyConfig={\n        users:users,//----------------\n        allowSelfChoose:this.properties.userOptional\n      }\n      console.log(\"抄送-confirm\",this.properties)\n      this.$emit(\"confirm\", this.properties, this.getOrgSelectLabel('copy') || '发起人自选','copyNode',copyConfig);\n      this.visible = false;\n    },\n\n    /**\n     * 条件节点确认保存得回调\n     */\n    conditionNodeComfirm() {\n      console.log('pconditions',this.pconditions)\n      let nodeContent = ''\n      const conditions = []\n      this.showingPCons\n      .map(fid => this.pconditions.find(t => t.field === fid))\n      .forEach((t)=> {\n        if(!t) return // 发起人条件时 t 为空 发起人在其他地方获取\n        const cValue = t.conditionValue\n        if(cValue === undefined || cValue === null){\n          return \n        }\n        const numberTypeCmp = ['el-input-number','fc-date-duration','fc-time-duration','fc-amount', 'fc-calculate','number']\n        if(numberTypeCmp.includes(t.fieldType)){\n          if(cValue.type === 'bet'){\n            const numVal = cValue.value\n            nodeContent += `[${numVal[0]} ${rangeType[numVal[1]]} ${t.fieldName} ${rangeType[numVal[2]]} ${numVal[3]}] ` + '\\n'\n          }else{\n            nodeContent +=  `[${t.fieldName} ${rangeType[cValue.type]} ${cValue.value}] ` + '\\n'\n          }\n        }else if(t.fieldType === 'fc-org-select'){\n          const index = this.pconditions.findIndex(p => p.field === t.field)\n          const labels = this.$refs['org' + index][0].selectedLabels\n          nodeContent += `[${t.fieldName} = ${labels}] ` + '\\n'\n        }else{\n          nodeContent +=  `[${t.fieldName} = ${cValue}] ` + '\\n'\n        }\n        const res = { field: t.field, conditionValue: cValue,fieldType:t.fieldType,fieldName:t.fieldName}\n        conditions.push(res)\n      }, [])\n      this.properties.conditions = conditions\n      // 发起人虽然是条件 但是这里把发起人放到外部单独判断\n      this.properties.initiator = this.initiator['dep&user']\n      this.initiator['dep&user'] && (nodeContent = `[发起人: ${this.getOrgSelectLabel('condition')}]` + '\\n' + nodeContent)\n      let conditionConfigs= [{\n        field: \"userId\",\n        fieldName:'提交人',\n        fieldType: \"string\",\n        operator: \"=\",\n        value: []//---------------------\n      }, {\n        field: \"departDetailId\",\n        fieldName:'提交部门',\n        fieldType: \"string\",\n        operator: \"=\",\n        value: []\n      }]; \n      this.properties.initiator&&this.properties.initiator.forEach(item=>{\n        if(item.hasOwnProperty('realName')){\n          conditionConfigs[0].value.push(item.id)\n          // userIdVal.push(item.id)\n        }else{\n          conditionConfigs[1].value.push(item.id)\n          // departDetailIdVal.push(item.id)\n        }\n      }) \n      conditionConfigs[0].value=conditionConfigs[0].value.join()\n      conditionConfigs[1].value=conditionConfigs[1].value.join()\n      conditions.forEach(item=>{\n        let obj ={\n          field:item.field,\n          fieldName:item.fieldName,\n          fieldType:item.fieldType\n        }\n        if(item.conditionValue.type !='bet'){\n          obj.operator=rangeTypeParams[item.conditionValue.type],\n          obj.value=item.conditionValue.value;\n          conditionConfigs.push(obj)\n        }else{\n          let objBet =Object.assign({},obj) \n          obj.operator=rangeTypeParams[item.conditionValue.value[1]],\n          obj.value=item.conditionValue.value[0];\n          conditionConfigs.push(obj)\n          objBet.operator=rangeTypeParams[item.conditionValue.value[2]],\n          objBet.value=item.conditionValue.value[3];\n          conditionConfigs.push(objBet)\n        }\n      })\n      conditionConfigs=conditionConfigs.filter(cur=>{\n        return cur.value!==''\n      })\n      this.$emit(\"confirm\", this.properties, nodeContent || '请设置条件','conditionNode',conditionConfigs);\n      this.visible = false;\n    },\n    //返回当前选择的人/部门/公司的文字\n    getOrgSelectLabel (type) {\n      return this.$refs[type + '-org']['selectedLabels']\n    },\n    /**\n     * 开始节点确认保存\n     */\n    startNodeComfirm() {\n      this.properties.initiator = this.initiator['dep&user']\n      // const formOperates = this.startForm.formOperates.map(t=>({formId: t.formId, formOperate: t.formOperate}))\n      // Object.assign(this.properties, {formOperates})\n      this.$emit(\"confirm\", this.properties, this.getOrgSelectLabel('start') || '所有人');\n      this.visible = false;\n    },\n    /**\n     * 审批节点确认保存\n     */\n    approverNodeComfirm() {\n      const assigneeType = this.approverForm.assigneeType\n      let content = ''\n      if (['optional','myself'].includes(assigneeType)) {\n        content = this.assigneeTypeOptions.find(t => t.value === assigneeType).label\n      } else if('director' === assigneeType){\n        content = this.directorLevel === 1 ? '直接主管' : `第${this.directorLevel}级主管`\n      } else{\n        content = this.getOrgSelectLabel('approver')\n      }\n      // const formOperates = this.approverForm.formOperates.map(t=>({formId: t.formId, formOperate: t.formOperate}))\n      this.approverForm.approvers = this.orgCollection[assigneeType]\n      // Object.assign(this.properties, this.approverForm, {formOperates})\n      Object.assign(this.properties, this.approverForm)\n      //新增的审批人节点的配置信息用于生成bpmn文件的配置\n      let assigneeTypeIndex =this.assigneeTypeOptions.findIndex((item)=>item.value==assigneeType)\n      let users= this.properties.approvers && this.properties.approvers.map(t=>t.id)\n      this.approverConfig={\n        type:this.assigneeTypeOptions[assigneeTypeIndex].id,//审批人类型（assigneeType）\n        signType:this.properties.counterSign ? 'and' :'or',//会签/或签\n        users:users,//审批人列表：type=1即指定成员时生效-------------------\n        grade:this.directorLevel,//主管级别：type=2即主管生效(1-N)\n        gradeNext:this.useDirectorProxy,//找不到主管时，由上级主管代审批标记\n        allowMulti:this.properties.optionalMultiUser//允许选择多人\n      }\n      this.$emit(\"confirm\", this.properties, content || '请设置审批人','approverNode',this.approverConfig)\n      this.visible = false\n    },\n    // 确认修改\n    confirm() {\n      this.isCopyNode() && this.copyNodeConfirm()\n      this.isStartNode() && this.startNodeComfirm()\n      this.isApproverNode() && this.approverNodeComfirm()\n      this.isConditionNode() && this.conditionNodeComfirm() \n    },\n    // 关闭抽屉\n    cancel() {\n      setTimeout(()=>{\n        this.$emit(\"cancel\");\n        this.visible = false;\n      }, 0)\n    },\n    /**\n     * 删除流程条件\n     */\n    onDelCondition(condition){\n      const index = this.showingPCons.findIndex(id => id === condition.field)\n      if(index > -1){\n        this.showingPCons.splice(index, 1)\n        this.pconditions.find(t => t.field === condition.field).conditionValue = undefined\n      }\n    },\n    // 配合getPriorityLength 获取前一个节点条件数组长度 用于设置优先级\n    getPrevData() {\n      return NodeUtils.getPreviousNode(this.value.prevId, this.processData);\n    },\n    // 用于获取节点优先级范围\n    getPriorityLength() {\n      this.priorityLength = this.getPrevData().conditionNodes.length;\n    },\n    // 判断是否是条件节点\n    isConditionNode() {\n      return this.value ? NodeUtils.isConditionNode(this.value) : false;\n    },\n    /** 判断是否是审批节点*/\n    isApproverNode(){\n      return this.value ? NodeUtils.isApproverNode(this.value) : false;\n    },\n    /** 判断是否是开始节点*/\n    isStartNode(){\n      return this.value ? NodeUtils.isStartNode(this.value) : false;\n    },\n    /** 判断是否是抄送节点*/\n    isCopyNode () {\n      return this.value ? NodeUtils.isCopyNode(this.value) : false\n    },\n    //初始化发起人\n    initInitiator(){\n      const initiator = this.value.properties && this.value.properties.initiator\n      this.initiator['dep&user'] = Array.isArray(initiator) ? initiator : []\n    },\n    /**\n     * 初始化审批节点所需数据\n     */\n    initApproverNodeData() {\n      for (const key in this.approverForm) {\n        if (this.value.properties.hasOwnProperty(key)) {\n          this.approverForm[key] = this.value.properties[key];\n        }\n      }\n      const approvers = this.approverForm.approvers\n      this.resetOrgColl()\n      if (Array.isArray(this.approverForm.approvers)) {\n        this.orgCollection[this.approverForm.assigneeType] = approvers\n      }\n      // this.approverForm.formOperates = this.initFormOperates(this.value)\n    },\n    /**\n     * 初始化条件节点数据\n     */\n    initConditionNodeData(){\n      // 初始化条件表单数据\n      let nodeConditions = this.value.properties && this.value.properties.conditions\n      //获取要选择条件弹窗里要显示的条件\n      // this.pconditions = JSON.parse(JSON.stringify(this.$store.state.processConditions));\n      this.initiator['dep&user'] = this.value.properties.initiator\n      if(Array.isArray(this.pconditions)){\n        this.showingPCons = [-1] // 默认显示发起人\n        this.pconditions.forEach(t => {\n          let temp = undefined\n          if(Array.isArray(nodeConditions)){\n            const con = nodeConditions.find(item => item.field == t.field)\n            con && con.conditionValue && (temp = con.conditionValue, this.showingPCons.push(t.field))\n          }\n          //用于抽屉里的条件展示的值\n          this.$set(t, 'conditionValue', temp)\n        })\n      }\n    },\n    getCondition(){\n      // '2c91e3f674cfeac80174d85ce8a6021c',2, accountbookId,billType\n      let accountbookId = window.localStorage.getItem('accountbookId');\n      let billType =window.localStorage.getItem('billType');\n      getField(accountbookId,billType).then(res=>{\n        if(res.data !=''){\n          this.pconditions = JSON.parse(res.data)\n        }\n      })\n    },\n  },\n  watch: {\n    visible(val) {\n      if (!val) {\n        this.approverForm = JSON.parse(JSON.stringify(defaultApproverForm)) // 重置数据为默认状态\n        return\n      }\n      // this.processData.properties.formOperates = \n      //   this.initFormOperates(this.processData)\n      //   .map(t=>({formId: t.formId, formOperate: t.formOperate}))\n      this.isStartNode() && this.initStartNodeData()\n      this.isApproverNode() && this.initApproverNodeData()\n      this.isConditionNode() && this.initConditionNodeData()\n    },\n    value(newVal) {\n      if (newVal && newVal.properties) {\n        this.visible = true;\n        this.properties = JSON.parse(JSON.stringify(newVal.properties));\n        if (this.properties) {  \n          NodeUtils.isConditionNode(newVal) && this.getPriorityLength();\n        }\n      } \n    }\n  },\n  components: {\n    \"num-input\": NumInput,\n    \"row-wrapper\": RowWrapper\n  }\n};\n</script>\n<style lang=\"stylus\">\n.condition-dialog {\n  .el-dialog__header{\n    border-bottom : 1px solid #eee;\n  }\n}\n\n</style>\n<style lang=\"stylus\" scoped>\n.drawer {\n  >>> .el-drawer__header {\n    margin-bottom: 0;\n    border-bottom: 1px solid #c5c5c5;\n    padding-bottom: 8px;\n  }\n\n  >>> .el-drawer__body {\n    padding-bottom: 44px;\n    overflow: hidden;\n  }\n\n  .pane-tab{\n    height: 100%;\n  }\n\n  .pane-tab >>>  .el-tabs__item.is-top:nth-child(2) {\n    padding-left: 20px;\n  }\n\n  >>> .el-tabs__item:focus{\n    box-shadow: none !important;\n  }\n\n  >>> .el-tabs__header {\n    margin-bottom: 0;\n  }\n}\n\n.header {\n  line-height: 28px;\n}\n\n.actions {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  padding: 6px 12px;\n  width: 100%;\n  box-sizing: border-box;\n  text-align: right;\n}\n\n.radio-item {\n  // width: 110px;\n  width: 220px;\n  padding: 6px;\n}\n\n.priority-select {\n  width: 118px;\n  position: absolute;\n  right: 26px;\n}\n\n.form-auth-table{\n  font-size: 14px;\n  .auth-table-header{\n    background: #fafafa\n    line-height: 40px;\n  }\n  .row{\n    display: flex;\n    align-items: center;\n    line-height: 32px;\n    padding: 8px 12px;\n    border-bottom: 1px solid #efefef;\n    &:hover{\n      background: #f5f7fa;\n    }\n    .label{\n      flex:1;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n\n      .required{\n        color: #f2725e;\n      }\n    }\n    .radio-group{\n      flex: 2;\n      display: flex;\n      justify-content: space-between;\n    }\n  }\n}\n\n.approver-pane{\n  overflow-y: scroll;\n  overflow-x: hidden; \n  .option-box {\n    font-size 14px\n    padding-left 1rem\n  }\n}\n\n.condition-pane{\n  height 100%\n  overflow scroll\n}\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=7a6ee963&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=stylus&\"\nimport style1 from \"./index.vue?vue&type=style&index=1&id=7a6ee963&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7a6ee963\",\n  null\n  \n)\n\nexport default component.exports","// 流程设计页面\n<script>\nimport FlowCard from \"./FlowCard/index.vue\";\nimport PropPanel from \"./PropPanel/index.vue\";\nimport { NodeUtils, getMockData } from \"./FlowCard/util.js\";\n\nexport default {\n  name: 'Process',\n  props:['tabName', 'conf'],\n  data() {\n    let data = getMockData();//获取模拟的数据（基本数据，包含一个开始节点和审批节点）\n    //把mackData里的流程图的数据\n    if (typeof this.conf === 'object' && this.conf !== null) {\n      Object.assign(data, this.conf)\n    }\n    console.log(\"detail-data\",data)\n    return {\n      data, // 流程图数据\n      scaleVal: 100, // 流程图缩放比例 100%\n      step: 5, // 缩放步长\n      updateId: 0, // key值 用于模拟$forceUpdate\n      activeData: null, // 被激活的流程卡片数据，用于属性面板编辑\n      isProcessCmp: true,\n      verifyMode: false\n    };\n  },\n  methods: {\n    // 给父级组件提供的获取流程数据得方法\n    getData(){\n      this.verifyMode = true\n      if(NodeUtils.checkAllNode(this.data)) {\n        return Promise.resolve({formData: this.data})\n      }else{\n        return Promise.reject({target: this.tabName})\n      }\n    },\n    /**\n     * 接收所有FlowCard事件触发\n     * @param { Object } data - 含有event(事件名称)/args(参数)两个属性\n     */\n    eventReciver({ event, args }) {\n      if (event === \"edit\") {\n        this.activeData = args[0]; // 打开属性面板\n        return;\n      }\n      // 本实例只监听了第一层数据（startNode）变动\n      // 为了实时更新  采用$forceUpdate刷新 但是由于某些条件下触发失效（未排除清除原因）\n      // 使用key + 监听父组件updateId方式强制刷新\n      NodeUtils[event](...args);\n      this.forceUpdate();\n    },\n\n    forceUpdate() {\n      this.updateId = this.updateId + 1;\n    },\n    /**\n     * 控制流程图缩放\n     * @param { Object } val - 缩放增量 是step的倍数 可正可负\n     */\n    changeScale(val) {\n      let v = this.scaleVal + val;\n      if (v > 0 && v <= 200) {\n        // 缩放介于0%~200%\n        this.scaleVal = v;\n      }\n    },\n    /**\n     * 属性面板提交事件\n     * @param { Object } value - 被编辑的节点的properties属性对象\n     */\n    onPropEditConfirm(value, content,nodeType='startNode',nodeConfig={}) {\n      this.activeData.content = content || '请设置条件'\n      let oldProp = this.activeData.properties;\n      this.activeData.properties = value;\n      if(nodeType == 'approverNode'){\n        this.activeData.approverConfig=nodeConfig\n      }else if(nodeType == 'copyNode'){\n        this.activeData.copyConfig = nodeConfig\n      }else if(nodeType == 'conditionNode'){\n        this.activeData.conditionConfigs=nodeConfig\n      }\n      // 修改优先级\n      if (NodeUtils.isConditionNode(this.activeData) ) {\n        value.priority !== oldProp.priority \n        && NodeUtils.resortPrioByCNode(\n          this.activeData,\n          oldProp.priority,\n          this.data\n        );\n        NodeUtils.setDefaultCondition(this.activeData, this.data)\n      }\n      if(NodeUtils.isStartNode(this.activeData)) this.$emit('startNodeChange', this.data)\n      this.onClosePanel();\n      this.forceUpdate();\n    },\n    /**\n     * 属性面板取消事件\n     */\n    onClosePanel() {\n      this.activeData = null;\n    },\n\n    // 传formIds 查询指定组件 未传时  判断所有组件\n    isFilledPCon ( formIds ) {\n      let res = false\n      const loopChild = (parent, callback) => parent.childNode && loop( parent.childNode, callback )\n      const loop = ( data, callback ) => {\n        if(res || !data) return // 查找到就退出\n        if ( Array.isArray( data.conditionNodes )) {\n          const uesd = data.conditionNodes.some( c => {\n            const cons = c.properties.conditions || []\n            return Array.isArray(formIds) \n              ? cons.some( item => formIds.includes(item.formId)) // 查询特定组件\n              : cons.length > 0 // 只要有节点设置了条件 说明就有组件作为条件被使用\n          })\n          uesd ? callback() : data.conditionNodes.forEach(t => loopChild(t, callback))\n        }\n        loopChild(data, callback)\n      }\n      loop( this.data, () => res = true )\n      return res\n    }\n  },\n  render: function(h) {\n    return (\n      <div class=\"flow-container\">\n        <div class=\"scale-slider\">\n          <i\n            class=\"btn  el-icon-minus\"\n            onClick={this.changeScale.bind(this, -this.step)}\n          ></i>\n          <span style=\"font-size:14px;\">{this.scaleVal}%</span>\n          <i\n            class=\"btn  el-icon-plus \"\n            onClick={this.changeScale.bind(this, this.step)}\n          ></i>\n        </div>\n        <FlowCard\n          verifyMode={this.verifyMode}\n          key={this.updateId}\n          data={this.data}\n          onEmits={this.eventReciver}\n          style={{ transform: `scale(${this.scaleVal / 100})` }}\n        />\n        <PropPanel\n          value={this.activeData}\n          processData={this.data}\n          onConfirm={this.onPropEditConfirm}\n          onCancel={this.onClosePanel}\n        />\n      </div>\n    );\n  }\n};\n</script>\n\n<style scoped lang=\"stylus\">\n$bg-color = #f5f5f7;\n\n.flow-container {\n  display: inline-block;\n  background: $bg-color;\n  padding: 20px;\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  text-align: center;\n  overflow: auto;\n}\n\n.scale-slider {\n  position: fixed;\n  right: 20px;\n  z-index: 99;\n\n  .btn {\n    display: inline-block;\n    padding: 4px;\n    border: 1px solid #cacaca;\n    border-radius: 3px;\n    background: #FFF;\n    margin-left: 10px;\n    margin-right: 10px;\n    cursor: pointer;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","/**\n * 简易防抖函数\n * @param {Function} func -防抖目标函数\n * @param {Number}} gap - 防抖时间间隔\n */\n export const debounce = ( func, gap ) => {\n  let timer\n  return function () {\n    timer && clearTimeout( timer )\n    timer = setTimeout( () => {\n      func.apply( this, arguments )\n    }, gap )\n  }\n}\n//数组对象去重\nexport const handlereduce=(arr,key)=>{\n  let hash = {};\n  var newArr = arr.reduce((item, next) => {\n    hash[next[key]] ? '' : hash[next[key]] = true && item.push(next);\n    return item\n  }, []);\n  return newArr\n}","<template>\n  <div class=\"page\" v-loading=\"processLoading\">\n    <header class=\"page__header\">\n      <div class=\"page-actions\">\n        <!-- <div>设置审批流程</div> -->\n      </div>\n      <el-button size=\"small\" class=\"publish-btn\" @click=\"publish\">发布</el-button>\n    </header>\n    <section class=\"page__content\">\n      <Process\n        v-if=\"mockData\"\n        ref=\"processDesign\"\n        :conf=\"mockData.processData\"\n        tabName=\"processDesign\"\n        @startNodeChange=\"onStartChange\"/>\n    </section>\n  </div>\n</template>\n\n<script>\nimport Process from \"@/components/Process\";\nimport {getProcessData,saveData} from \"@/api/index.js\"\nimport {handlereduce} from \"@/utils/index.js\"\nimport { NodeUtils } from \"@/components/Process/FlowCard/util.js\";\nexport default {\n  name: \"Home\",\n  components: {\n    Process,\n  },\n  data() {\n    return {\n      processLoading:false,//加载loading\n      mockData: null, // 可选择诸如 $route.param，Ajax获取数据等方式自行注入\n      fieldArr:[]\n    };\n  },\n  mounted () {\n    this.initData()\n  },\n  methods: {\n    //获取选择的条件信息\n    getCondition(data) {\n      data.conditionNodes && data.conditionNodes.forEach((item) => {\n        if (item.conditionConfigs) {\n          this.fieldArr = this.setFieldArr(item.conditionConfigs, this.fieldArr)\n        }\n        if (item.conditionNodes) this.getCondition(item)\n        if (item.childNode) this.getCondition(item.childNode)\n      })\n      if (data.childNode) {\n        this.getCondition(data.childNode)\n      }\n    },\n    setFieldArr(data, arr) {\n      data.forEach((item) => {\n        let obj={\n          field: item.field,\n          fieldName:item.fieldName,\n          fieldType:item.fieldType\n        }\n        arr.push(obj);\n      });\n      return arr;\n    },\n    async initData(){\n      this.processLoading=true;\n      // this.$cookie.set('db', 'db_ck_oa', Infinity);//zszh\n      let accountbookId=window.localStorage.getItem('accountbookId')\n      let billType=window.localStorage.getItem('billType')\n      if(accountbookId && billType){\n        //获取流程图的数据 '2c91e3f674cfeac80174d85ce8a6021c',2 accountbookId,billType\n        await this.getFlowData(accountbookId,billType)\n      }else{\n        this.$message.error(\"accountbookId或billType不存在\")\n      }  \n    },\n    getFlowData(accountbookId,billType){\n      getProcessData(accountbookId,billType).then(res=>{\n        console.log(\"res-approver\",res)\n        if(res.data !=''){\n          let data = JSON.parse(res.data)\n          this.mockData = data;\n        }else{\n          this.mockData={}\n        }\n        this.processLoading=false; \n      })\n    },\n    /**\n     * 监听 流程节点发起人改变 并同步到基础设置 发起人数据\n     */\n    onStartChange(node) {\n      // const basicSetting = this.$refs.basicSetting\n      // basicSetting.formData.initiator = { 'dep&user': node.properties.initiator }\n      console.log(\"监听 流程节点发起人改变 并同步到基础设置 发起人数据\", node);\n    },\n    //发布\n    publish() {\n      const getCmpData = (name) => this.$refs[name].getData();\n      const p3 = getCmpData(\"processDesign\");\n      console.log(\"p3\",p3)\n      Promise.all([p3])\n        .then((res) => {\n          let param ={\n            processData:res[0].formData\n          } ;\n          this.fieldArr=[];//已经选取的条件字段\n          this.getCondition(param.processData);\n          let arrfieldtemp = handlereduce(this.fieldArr,'field')\n          param.processData.conditionField=arrfieldtemp;\n          // console.log('配置数据', param)\n          this.sendToServer(param);\n        })\n        .catch((err) => {\n          err.target && (this.activeStep = err.target);\n          if(err.target){\n            this.activeStep = err.target;\n            this.$message.error('审批流程存在错误的节点，请检查标记为红色的节点，修复后再试')\n          }\n          err.msg && this.$message.warning(err.msg);\n        });\n    },\n    sendToServer(param) {\n      console.log('配置数据', param)\n      this.processLoading=true;\n      let accountbookId=window.localStorage.getItem('accountbookId')\n      let billType=window.localStorage.getItem('billType')\n      saveData(accountbookId,billType,param).then(res=>{       \n        this.processLoading=false; \n        this.$message({\n          type:res.data.success ? \"success\":'error',\n          message:res.data.msg,\n          center:true\n        })\n        \n      })\n    },\n  },\n};\n</script>\n<style lang=\"stylus\" scoped>\n$header-height = 54px;\n.page {\n  width: 100vw;\n  height: 100vh;\n  padding-top: $header-height;\n  box-sizing: border-box;\n\n  .page__header {\n    width: 100%;\n    height: $header-height;\n    flex-center();\n    justify-content: space-between;\n    box-sizing: border-box;\n    color: white;\n    // background: #3296fa;\n    background:#f5f5f7;\n    font-size: 14px;\n    position: fixed;\n    top: 0;\n\n    .page-actions {\n      height: 100%;\n      text-align: center;\n      line-height: $header-height;\n\n      > div {\n        height: 100%;\n        padding-left: 20px;\n        padding-right: 20px;\n        display: inline-block;\n      }\n\n      i {\n        font-size: 22px;\n        vertical-align: middle;\n      }\n    }\n\n    .step-tab {\n      display: flex;\n      justify-content: center;\n      height: 100%;\n      position: relative;\n\n      >.step {\n        width: 140px;\n        line-height: $header-height;\n        padding-left: 30px;\n        padding-right: 30px;\n        cursor: pointer;\n        position: relative;\n\n        &.ghost-step {\n          position: absolute;\n          height: $header-height;\n          left: 0;\n          z-index: -1;\n          background: #4483f2;\n          transition: transform 0.5s;\n\n          &::after {\n            content: '';\n            border-width: 6px 6px 6px;\n            border-style: solid;\n            border-color: transparent transparent white;\n            position: absolute;\n            bottom: 0;\n            left: 50%;\n            margin-left: -6px;\n          }\n        }\n\n        &.active >.step-index {\n          background: white;\n          color: #4483f2;\n        }\n\n        >.step-index {\n          display: inline-block;\n          width: 18px;\n          height: 18px;\n          border: 1px solid #fff;\n          border-radius: 8px;\n          line-height: 18px;\n          text-align: center;\n          box-sizing: border-box;\n        }\n      }\n    }\n  }\n\n  .page__content {\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n    box-sizing: border-box;\n    background: #f5f5f7;\n  }\n}\n\n.publish-btn {\n  margin-right: 30px;\n  color: #3296fa;\n  padding: 7px 20px;\n  border-radius: 4px;\n  font-size: 14px;\n}\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./approver.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./approver.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./approver.vue?vue&type=template&id=3eca9a60&scoped=true&\"\nimport script from \"./approver.vue?vue&type=script&lang=js&\"\nexport * from \"./approver.vue?vue&type=script&lang=js&\"\nimport style0 from \"./approver.vue?vue&type=style&index=0&id=3eca9a60&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3eca9a60\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport Approver from '../views/approver.vue'\n\nVue.use(VueRouter)\n\nconst routes = [\n  {\n    path: '/',\n    name: 'approver',\n    component: Approver\n  },\n  // {\n  //   path: '/approver',\n  //   name: 'Approver',\n  //   component: () => import('../views/approver.vue')\n  // }\n]\nconst router = new VueRouter({\n  // mode: 'history',\n  base: process.env.BASE_URL,\n  routes\n})\n\nexport default router\n","import Vue from 'vue'\nimport Vuex from 'vuex'\nVue.use( Vuex )\nlet hasCondition = ( state, formId, needIndex = false ) => {\n  let index = state.processConditions.findIndex( d => d.formId === formId )\n  return needIndex ? index : index > -1\n}\nconst store = new Vuex.Store( {\n  state: {\n    processConditions: [], // processConditions 用于传递流程图需要的条件\n    formItemList: [], // 流程节点表单权限控制——组件列表\n  },\n  mutations: {\n    //所有mutations中的方法的第一个参数一定是state变量，用来进行对state中的状态的操作\n    //第二个参数是可选参数，用于调用该 mutations 方法的时候传参\n    initPConditions ( state, data ) {\n      state.processConditions = data\n    },\n    addPCondition ( state, data ) {\n      if ( data.formId === null || data.formId === undefined ) return\n      if ( !hasCondition( state, data.formId ) ) {\n        state.processConditions.unshift( data )\n      }\n    },\n    delPCondition ( state, formId ) {\n      if ( formId === null || formId === undefined ) return\n      let index = hasCondition( state, formId, true )\n      let cons = state.processConditions\n      index > -1 && cons.splice( index, 1 )\n    },\n    //  * 清除所有的条件\n    clearPCondition ( state ) {\n      state.processConditions = []\n    },\n    updateFormItemList ( state, list ) {\n      state.formItemList = list\n    }\n  }\n} )\n\nexport default store","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.show)?_c('section',{staticClass:\"h-transfer\",class:[_vm.tabConfig.length == 1 ? 'single-tab' : '']},[_c('div',{staticClass:\"mask\"}),_c('div',{staticClass:\"transfer__content\"},[_c('header',{staticClass:\"transfer__header\"},[_c('i',{staticClass:\"el-icon-monitor\"}),_vm._v(\" \"+_vm._s(_vm.title)+\" \"),_c('i',{staticClass:\"el-icon-close\",on:{\"click\":_vm.closeTransfer}})]),_c('div',{staticClass:\"transfer__body\"},[_c('div',{staticClass:\"transfer-pane\"},[_c('div',{staticClass:\"transfer-pane__tools\"},[_c('el-input',{staticClass:\"search-input\",staticStyle:{\"width\":\"180px\"},attrs:{\"size\":\"mini\",\"type\":\"search\",\"placeholder\":\"搜索人员\",\"disabled\":!_vm.searchable},model:{value:(_vm.searchString),callback:function ($$v) {_vm.searchString=$$v},expression:\"searchString\"}}),_c('span',[_c('span',{staticStyle:{\"margin-right\":\"1rem\",\"font-size\":\"14px\"}},[_vm._v(_vm._s(_vm.selectedNum)+\" / \"+_vm._s(_vm.maxNum))]),_c('el-tooltip',{attrs:{\"placement\":\"top\",\"content\":\"清空\"}},[_c('i',{staticClass:\"el-icon-delete\",on:{\"click\":_vm.removeAll}})])],1)],1),_c('el-scrollbar',{staticClass:\"transfer-pane__body shadow right-pane\"},[_vm._l((_vm.tabKeys),function(type){return _vm._l((_vm.selectedData[type]),function(item,index){return _c('div',{key:type + index,staticClass:\"selected-item\"},[_c('span',[_c('span',[_vm._v(_vm._s(_vm.getNodeProp(item, 'label')))])]),_c('i',{staticClass:\"el-icon-delete\",on:{\"click\":function($event){return _vm.removeData(item, type)}}})])})}),_vm._l((_vm.tabKeys),function(type){return _vm._l((_vm.aloneCheckedData[type]),function(item,index){return _c('div',{key:'alone' + type + index,staticClass:\"selected-item\"},[_c('span',[_c('span',[_vm._v(_vm._s(_vm.getNodeProp(item, 'label')))])]),_c('i',{staticClass:\"el-icon-delete\",on:{\"click\":function($event){return _vm.removeData(item, type, true)}}})])})})],2),_c('footer',{staticClass:\"transfer__footer\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\",\"size\":\"mini\"},on:{\"click\":_vm.confirm}},[_vm._v(\"确定\")]),_c('el-button',{attrs:{\"plain\":\"\",\"size\":\"mini\"},on:{\"click\":_vm.closeTransfer}},[_vm._v(\"取消\")])],1)],1),_c('div',{staticClass:\"transfer-pane\"},[_c('div',{staticClass:\"transfer-pane__body\",staticStyle:{\"height\":\"370px\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isEnough),expression:\"isEnough\"}],staticClass:\"enough-mask\"},[_c('span',{staticClass:\"p-center\"},[_vm._v(\"最多选择\"+_vm._s(_vm.maxNum)+\"项\")])]),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.searchLoading),expression:\"searchLoading\"}],staticClass:\"searchResPane\",class:{ active: _vm.searchMode }},[_c('div',{staticClass:\"hidden-tag\",on:{\"click\":function($event){_vm.searchString = ''}}},[_vm._v(\"关闭\")]),_vm._l((_vm.searchRes),function(item,index){return _c('div',{key:index,staticClass:\"item\",on:{\"click\":function($event){return _vm.searchItemClick(item)}}},[_c('div',[_c('div',[_vm._v(_vm._s(_vm.getNodeProp(item, 'label')))]),_c('div',{staticClass:\"text-ellipsis search-res-tip\"},[_vm._v(\" \"+_vm._s(_vm.getNodeProp(item, 'searchResTip'))+\" \")])]),_c('el-checkbox',{on:{\"change\":function (checked) { return checked ? _vm.addData(item) : _vm.removeData(item, _vm.activeTabName, true); }},nativeOn:{\"click\":function($event){$event.stopPropagation();return (function (){})($event)}},model:{value:(item.checked),callback:function ($$v) {_vm.$set(item, \"checked\", $$v)},expression:\"item.checked\"}})],1)})],2),_c('el-scrollbar',{staticStyle:{\"height\":\"100%\"}},[_c('el-tabs',{staticStyle:{\"min-height\":\"370px\"},attrs:{\"type\":\"border-card\"},model:{value:(_vm.activeTabName),callback:function ($$v) {_vm.activeTabName=$$v},expression:\"activeTabName\"}},_vm._l((_vm.tabConfig),function(tab_item,idx){return _c('el-tab-pane',{key:idx,attrs:{\"name\":tab_item.tabKey,\"label\":tab_item.tabName}},[_c('el-tree',{ref:tab_item.tabKey,refInFor:true,attrs:{\"lazy\":\"\",\"show-checkbox\":\"\",\"props\":{\n                    children: tab_item.children,\n                    label: tab_item.label,\n                    isLeaf: tab_item.isLeaf,\n                    disabled: tab_item.disabled\n                  },\"load\":_vm.onLoad,\"node-key\":\"nodeId\",\"check-strictly\":true},on:{\"check-change\":function (data, checked) { return _vm.onCheckChange(data, checked, tab_item.tabKey); }}})],1)}),1)],1)],1)])])])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/* eslint-disable no-useless-escape */\n/* eslint-disable no-prototype-builtins */\nimport { getDept,getUsersByDept,getUsersBySearch} from '@/api'\nlet accountbookId = window.localStorage.getItem('accountbookId');\n// let accountbookId ='2c91e3f674cfeac80174d85ce8a6021c';\nconst toHump = name => name.replace( /\\_(\\w)/g, function ( all, letter ) {\n  return letter.toUpperCase()\n} )\n// 需要自行设置nodeID  重要！！！\nasync function getDepChildNode () {\n  const promises = [getDept(accountbookId)]\n  let res = []\n  // loadUser && promises.push( GET_USER_BY_DEPT( { deptId: orgId } ) )\n  try {\n    res = await Promise.all( promises )\n  } catch ( error ) {/* this.$message.error('获取子节点数据出错')*/ }\n  const nodes = res.reduce( ( p, c ) => {\n    return [...p, ...c.data]\n  }, [] )\n  return nodes\n}\nasync function getUserNode ( orgId ) {\n  const promises = [getUsersByDept(orgId)]\n  let res = []\n  // loadUser && promises.push( GET_USER_BY_DEPT( { deptId: orgId } ) )\n  try {\n    res = await Promise.all( promises )\n  } catch ( error ) {/* this.$message.error('获取子节点数据出错')*/ }\n  const nodes = res.reduce( ( p, c ) => {\n    return [...p, ...c.data]\n  }, [] )\n  return nodes\n}\n\n// 需要返回一个promise\nasync function loadDepOrUser ( node, loadDep = true ) {\n  let nodeData = []\n  if(node.level===0){\n    nodeData = await getDepChildNode()\n  }else{\n    nodeData = await getUserNode(node.data.id)\n  }\n  // if ( node.level === 0 ) { // 根目录\n  //   const test = await getRootDept()  // 获取根节点\n  //   nodeData = [test]\n  // } else if ( node.level === 1 ) {\n  //   nodeData = await getDepChildNode( node.data.deptId )  // 获取部门节点\n  // } else if ( !loadDep && node.level === 2 ) {\n  //   let employeedata= await GET_PAGE_EMPLOYEE()\n  //   nodeData = employeedata.data  // 获取部门下人员\n  // }\n  return nodeData\n}\n// 获取组织结构根节点\n// 需要自行设置nodeID  重要！！！\n// async function getRootDept () {\n//   let res = []\n//   try {\n//     let rootdata= await GET_DEPT_ROOT()\n//     res = rootdata.data\n//   } catch ( err ) { }\n//   return res\n// }\n\nfunction loadDepData ( node ) {\n  return loadDepOrUser( node ) // 返回的promise\n}\n\nfunction loadUserData ( node ) {\n  return loadDepOrUser( node, false )  // 返回的promise\n}\n\nconst defaultOption = {\n  tabName: '部门',  // 选项卡名称\n  tabKey: 'dep', //选项卡键值 传入的selected要和键值保持一致 eg: {dep: [], role: []}\n  children: 'children', // 子节点标志\n  // 生成每个节点的id 保证唯一\n  nodeId: function ( data ) {\n    //data.hasOwnProperty( 'realName' ) ? data.id : data.id\n    return  data.id\n  },\n  // 生成节点的名称 可选值 string | function\n  label: function ( data, node ) {\n    return data.hasOwnProperty( 'realName' ) ? data.realName : data.name\n  },\n  // 判断是否为叶子节点 可选值 string | function\n  isLeaf: function ( data, node ) {\n    return data.hasOwnProperty( 'realName' ) // 含有empID为人员  且为叶子节点\n  },\n  // 搜索后的结果如果需要展示一些提示文字 例如搜索人员 提示人员所属部门  可以使用该属性\n  // function\n  searchResTip: function ( data ) {\n    //'部门'：+id\n    return '部门：' + data.departName\n  },\n  // 判断该节点是否可选 例如同时选择部门和部门下的人\n  disabled: function ( data, node ) {\n    return false\n  },\n  // 动态请求后台拿到节点数据 返回一个promise\n  onload: loadDepData,\n  // 搜索节点方法 \n  onsearch: async function ( searchString, resolve, reject ) {\n    // const param = { accountbookId:accountbookId, userName: searchString }\n    let employeedata= await getUsersBySearch(accountbookId,searchString)\n    resolve( employeedata.data )\n  }\n}\n\nexport const DEP_CONFIG = Object.assign( {}, defaultOption )\n// export const ROLE_CONFIG = Object.assign( {}, defaultOption, { tabKey: 'role', tabName: '角色' } )\nexport const USER_CONFIG = Object.assign( {}, defaultOption, { tabKey: 'user', tabName: '指定人员', onload: loadUserData, disabled: ( data, node ) => !data.hasOwnProperty( 'realName' ) } )\nconst DEP_USER_CONFIG = Object.assign( {}, defaultOption, { tabKey: 'dep&user', tabName: '部门和人员', onload: loadUserData, disabled: () => false } )\n// const POSITION_CONFIG = Object.assign( {}, defaultOption, { tabKey: 'position', tabName: '岗位' } )\nexport const CONFIG_LIST = [DEP_CONFIG, USER_CONFIG, DEP_USER_CONFIG]\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"el-tree\",class:{\n    'el-tree--highlight-current': _vm.highlightCurrent,\n    'is-dragging': !!_vm.dragState.draggingNode,\n    'is-drop-not-allow': !_vm.dragState.allowDrop,\n    'is-drop-inner': _vm.dragState.dropType === 'inner'\n  },attrs:{\"role\":\"tree\"}},[_vm._l((_vm.root.childNodes),function(child){return _c('el-tree-node',{key:_vm.getNodeKey(child),attrs:{\"node\":child,\"props\":_vm.props,\"render-after-expand\":_vm.renderAfterExpand,\"show-checkbox\":_vm.showCheckbox,\"render-content\":_vm.renderContent},on:{\"node-expand\":_vm.handleNodeExpand}})}),(_vm.isEmpty)?_c('div',{staticClass:\"el-tree__empty-block\"},[_c('span',{staticClass:\"el-tree__empty-text\"},[_vm._v(_vm._s(_vm.emptyText))])]):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.dragState.showDropIndicator),expression:\"dragState.showDropIndicator\"}],ref:\"dropIndicator\",staticClass:\"el-tree__drop-indicator\"})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const NODE_KEY = '$treeNodeId';\n\nexport const markNodeData = function(node, data) {\n  if (!data || data[NODE_KEY]) return;\n  Object.defineProperty(data, NODE_KEY, {\n    value: node.id,\n    enumerable: false,\n    configurable: false,\n    writable: false\n  });\n};\n\nexport const getNodeKey = function(key, data) {\n  if (!key) return data[NODE_KEY];\n  return data[key];\n};\n\nexport const findNearestComponent = (element, componentName) => {\n  let target = element;\n  while (target && target.tagName !== 'BODY') {\n    if (target.__vue__ && target.__vue__.$options.name === componentName) {\n      return target.__vue__;\n    }\n    target = target.parentNode;\n  }\n  return null;\n};\n","import objectAssign from 'element-ui/src/utils/merge';\nimport { markNodeData, NODE_KEY } from './util';\nimport { arrayFindIndex } from 'element-ui/src/utils/util';\n\nexport const getChildState = node => {\n  let all = true;\n  let none = true;\n  let allWithoutDisable = true;\n  for (let i = 0, j = node.length; i < j; i++) {\n    const n = node[i];\n    if (n.checked !== true || n.indeterminate) {\n      all = false;\n      if (!n.disabled) {\n        allWithoutDisable = false;\n      }\n    }\n    if (n.checked !== false || n.indeterminate) {\n      none = false;\n    }\n  }\n\n  return { all, none, allWithoutDisable, half: !all && !none };\n};\n\nconst reInitChecked = function(node) {\n  if (node.childNodes.length === 0) return;\n\n  const {all, none, half} = getChildState(node.childNodes);\n  if (all) {\n    node.checked = true;\n    node.indeterminate = false;\n  } else if (half) {\n    node.checked = false;\n    node.indeterminate = true;\n  } else if (none) {\n    node.checked = false;\n    node.indeterminate = false;\n  }\n\n  const parent = node.parent;\n  if (!parent || parent.level === 0) return;\n\n  if (!node.store.checkStrictly) {\n    reInitChecked(parent);\n  }\n};\n\nconst getPropertyFromData = function(node, prop) {\n  const props = node.store.props;\n  const data = node.data || {};\n  const config = props[prop];\n\n  if (typeof config === 'function') {\n    return config(data, node);\n  } else if (typeof config === 'string') {\n    return data[config];\n  } else if (typeof config === 'undefined') {\n    const dataProp = data[prop];\n    return dataProp === undefined ? '' : dataProp;\n  }\n};\n\nlet nodeIdSeed = 0;\n\nexport default class Node {\n  constructor(options) {\n    this.id = nodeIdSeed++;\n    this.text = null;\n    this.checked = false;\n    this.indeterminate = false;\n    this.data = null;\n    this.expanded = false;\n    this.parent = null;\n    this.visible = true;\n    this.isCurrent = false;\n\n    for (let name in options) {\n      if (options.hasOwnProperty(name)) {\n        this[name] = options[name];\n      }\n    }\n\n    // internal\n    this.level = 0;\n    this.loaded = false;\n    this.childNodes = [];\n    this.loading = false;\n\n    if (this.parent) {\n      this.level = this.parent.level + 1;\n    }\n\n    const store = this.store;\n    if (!store) {\n      throw new Error('[Node]store is required!');\n    }\n    store.registerNode(this);\n\n    const props = store.props;\n    if (props && typeof props.isLeaf !== 'undefined') {\n      const isLeaf = getPropertyFromData(this, 'isLeaf');\n      if (typeof isLeaf === 'boolean') {\n        this.isLeafByUser = isLeaf;\n      }\n    }\n\n    if (store.lazy !== true && this.data) {\n      this.setData(this.data);\n\n      if (store.defaultExpandAll) {\n        this.expanded = true;\n      }\n    } else if (this.level > 0 && store.lazy && store.defaultExpandAll) {\n      this.expand();\n    }\n    if (!Array.isArray(this.data)) {\n      markNodeData(this, this.data);\n    }\n    if (!this.data) return;\n    const defaultExpandedKeys = store.defaultExpandedKeys;\n    const key = store.key;\n    if (key && defaultExpandedKeys && defaultExpandedKeys.indexOf(this.key) !== -1) {\n      this.expand(null, store.autoExpandParent);\n    }\n\n    if (key && store.currentNodeKey !== undefined && this.key === store.currentNodeKey) {\n      store.currentNode = this;\n      store.currentNode.isCurrent = true;\n    }\n\n    if (store.lazy) {\n      store._initDefaultCheckedNode(this);\n    }\n\n    this.updateLeafState();\n  }\n\n  setData(data) {\n    if (!Array.isArray(data)) {\n      markNodeData(this, data);\n    }\n\n    this.data = data;\n    this.childNodes = [];\n\n    let children;\n    if (this.level === 0 && this.data instanceof Array) {\n      children = this.data;\n    } else {\n      children = getPropertyFromData(this, 'children') || [];\n    }\n\n    for (let i = 0, j = children.length; i < j; i++) {\n      this.insertChild({ data: children[i] });\n    }\n  }\n\n  get label() {\n    return getPropertyFromData(this, 'label');\n  }\n\n  get key() {\n    const nodeKey = this.store.key;\n    if (this.data) return this.data[nodeKey];\n    return null;\n  }\n\n  get disabled() {\n    return getPropertyFromData(this, 'disabled');\n  }\n\n  get nextSibling() {\n    const parent = this.parent;\n    if (parent) {\n      const index = parent.childNodes.indexOf(this);\n      if (index > -1) {\n        return parent.childNodes[index + 1];\n      }\n    }\n    return null;\n  }\n\n  get previousSibling() {\n    const parent = this.parent;\n    if (parent) {\n      const index = parent.childNodes.indexOf(this);\n      if (index > -1) {\n        return index > 0 ? parent.childNodes[index - 1] : null;\n      }\n    }\n    return null;\n  }\n\n  contains(target, deep = true) {\n    const walk = function(parent) {\n      const children = parent.childNodes || [];\n      let result = false;\n      for (let i = 0, j = children.length; i < j; i++) {\n        const child = children[i];\n        if (child === target || (deep && walk(child))) {\n          result = true;\n          break;\n        }\n      }\n      return result;\n    };\n\n    return walk(this);\n  }\n\n  remove() {\n    const parent = this.parent;\n    if (parent) {\n      parent.removeChild(this);\n    }\n  }\n\n  insertChild(child, index, batch) {\n    if (!child) throw new Error('insertChild error: child is required.');\n\n    if (!(child instanceof Node)) {\n      if (!batch) {\n        const children = this.getChildren(true) || [];\n        if (children.indexOf(child.data) === -1) {\n          if (typeof index === 'undefined' || index < 0) {\n            children.push(child.data);\n          } else {\n            children.splice(index, 0, child.data);\n          }\n        }\n      }\n      objectAssign(child, {\n        parent: this,\n        store: this.store\n      });\n      child = new Node(child);\n    }\n\n    child.level = this.level + 1;\n\n    if (typeof index === 'undefined' || index < 0) {\n      this.childNodes.push(child);\n    } else {\n      this.childNodes.splice(index, 0, child);\n    }\n\n    this.updateLeafState();\n  }\n\n  insertBefore(child, ref) {\n    let index;\n    if (ref) {\n      index = this.childNodes.indexOf(ref);\n    }\n    this.insertChild(child, index);\n  }\n\n  insertAfter(child, ref) {\n    let index;\n    if (ref) {\n      index = this.childNodes.indexOf(ref);\n      if (index !== -1) index += 1;\n    }\n    this.insertChild(child, index);\n  }\n\n  removeChild(child) {\n    const children = this.getChildren() || [];\n    const dataIndex = children.indexOf(child.data);\n    if (dataIndex > -1) {\n      children.splice(dataIndex, 1);\n    }\n\n    const index = this.childNodes.indexOf(child);\n\n    if (index > -1) {\n      this.store && this.store.deregisterNode(child);\n      child.parent = null;\n      this.childNodes.splice(index, 1);\n    }\n\n    this.updateLeafState();\n  }\n\n  removeChildByData(data) {\n    let targetNode = null;\n\n    for (let i = 0; i < this.childNodes.length; i++) {\n      if (this.childNodes[i].data === data) {\n        targetNode = this.childNodes[i];\n        break;\n      }\n    }\n\n    if (targetNode) {\n      this.removeChild(targetNode);\n    }\n  }\n\n  expand(callback, expandParent) {\n    const done = () => {\n      if (expandParent) {\n        let parent = this.parent;\n        while (parent.level > 0) {\n          parent.expanded = true;\n          parent = parent.parent;\n        }\n      }\n      this.expanded = true;\n      if (callback) callback();\n    };\n\n    if (this.shouldLoadData()) {\n      this.loadData((data) => {\n        if (data instanceof Array) {\n          if (this.checked) {\n            this.setChecked(true, true);\n          } else if (!this.store.checkStrictly) {\n            reInitChecked(this);\n          }\n          done();\n        }\n      });\n    } else {\n      done();\n    }\n  }\n\n  doCreateChildren(array, defaultProps = {}) {\n    array.forEach((item) => {\n      this.insertChild(objectAssign({ data: item }, defaultProps), undefined, true);\n    });\n  }\n\n  collapse() {\n    this.expanded = false;\n  }\n\n  shouldLoadData() {\n    return this.store.lazy === true && this.store.load && !this.loaded;\n  }\n\n  updateLeafState() {\n    if (this.store.lazy === true && this.loaded !== true && typeof this.isLeafByUser !== 'undefined') {\n      this.isLeaf = this.isLeafByUser;\n      return;\n    }\n    const childNodes = this.childNodes;\n    if (!this.store.lazy || (this.store.lazy === true && this.loaded === true)) {\n      this.isLeaf = !childNodes || childNodes.length === 0;\n      return;\n    }\n    this.isLeaf = false;\n  }\n\n  setChecked(value, deep, recursion, passValue) {\n    this.indeterminate = value === 'half';\n    this.checked = value === true;\n\n    if (this.store.checkStrictly) return;\n\n    if (!(this.shouldLoadData() && !this.store.checkDescendants)) {\n      let { all, allWithoutDisable } = getChildState(this.childNodes);\n\n      if (!this.isLeaf && (!all && allWithoutDisable)) {\n        this.checked = false;\n        value = false;\n      }\n\n      const handleDescendants = () => {\n        if (deep) {\n          const childNodes = this.childNodes;\n          for (let i = 0, j = childNodes.length; i < j; i++) {\n            const child = childNodes[i];\n            passValue = passValue || value !== false;\n            const isCheck = child.disabled ? child.checked : passValue;\n            child.setChecked(isCheck, deep, true, passValue);\n          }\n          const { half, all } = getChildState(childNodes);\n          if (!all) {\n            this.checked = all;\n            this.indeterminate = half;\n          }\n        }\n      };\n\n      if (this.shouldLoadData()) {\n        // Only work on lazy load data.\n        this.loadData(() => {\n          handleDescendants();\n          reInitChecked(this);\n        }, {\n          checked: value !== false\n        });\n        return;\n      } else {\n        handleDescendants();\n      }\n    }\n\n    const parent = this.parent;\n    if (!parent || parent.level === 0) return;\n\n    if (!recursion) {\n      reInitChecked(parent);\n    }\n  }\n\n  getChildren(forceInit = false) { // this is data\n    if (this.level === 0) return this.data;\n    const data = this.data;\n    if (!data) return null;\n\n    const props = this.store.props;\n    let children = 'children';\n    if (props) {\n      children = props.children || 'children';\n    }\n\n    if (data[children] === undefined) {\n      data[children] = null;\n    }\n\n    if (forceInit && !data[children]) {\n      data[children] = [];\n    }\n\n    return data[children];\n  }\n\n  updateChildren() {\n    const newData = this.getChildren() || [];\n    const oldData = this.childNodes.map((node) => node.data);\n\n    const newDataMap = {};\n    const newNodes = [];\n\n    newData.forEach((item, index) => {\n      const key = item[NODE_KEY];\n      const isNodeExists = !!key && arrayFindIndex(oldData, data => data[NODE_KEY] === key) >= 0;\n      if (isNodeExists) {\n        newDataMap[key] = { index, data: item };\n      } else {\n        newNodes.push({ index, data: item });\n      }\n    });\n\n    if (!this.store.lazy) {\n      oldData.forEach((item) => {\n        if (!newDataMap[item[NODE_KEY]]) this.removeChildByData(item);\n      });\n    }\n\n    newNodes.forEach(({ index, data }) => {\n      this.insertChild({ data }, index);\n    });\n\n    this.updateLeafState();\n  }\n\n  loadData(callback, defaultProps = {}) {\n    if (this.store.lazy === true && this.store.load && !this.loaded && (!this.loading || Object.keys(defaultProps).length)) {\n      this.loading = true;\n\n      const resolve = (children) => {\n        this.loaded = true;\n        this.loading = false;\n        this.childNodes = [];\n\n        this.doCreateChildren(children, defaultProps);\n\n        this.updateLeafState();\n        if (callback) {\n          callback.call(this, children);\n        }\n      };\n\n      this.store.load(this, resolve);\n    } else {\n      if (callback) {\n        callback.call(this);\n      }\n    }\n  }\n}\n","import Node from './node';\nimport { getNodeKey } from './util';\n\nexport default class TreeStore {\n  constructor(options) {\n    this.currentNode = null;\n    this.currentNodeKey = null;\n\n    for (let option in options) {\n      if (options.hasOwnProperty(option)) {\n        this[option] = options[option];\n      }\n    }\n\n    this.nodesMap = {};\n\n    //mycode\n    this.myNodesMap = [];\n\n    this.root = new Node({\n      data: this.data,\n      store: this\n    });\n\n    if (this.lazy && this.load) {\n      const loadFn = this.load;\n      loadFn(this.root, (data) => {\n        this.root.doCreateChildren(data);\n        this._initDefaultCheckedNodes();\n      });\n    } else {\n      this._initDefaultCheckedNodes();\n    }\n  }\n\n\n  //mycode\n  setMyChecked(data, checked, deep) {\n    const nodes = this.getMyNode(data);\n    if (nodes && nodes.length > 0) {\n      for (let index = 0; index < nodes.length; index++) {\n        const element = nodes[index];\n        let node = Object.values(element)[0];\n        if (node&&(node.checked!==checked)) {\n          node.setChecked(!!checked, deep);\n        }\n      }\n    }\n  }\n\n //mycode\n getMyNode(data) {\n    const key = typeof data !== 'object' ? data : getNodeKey(this.key, data);\n    const result = this.myNodesMap.filter(item => item[key]);\n    return result || [];\n  }\n\n\n  filter(value) {\n    const filterNodeMethod = this.filterNodeMethod;\n    const lazy = this.lazy;\n    const traverse = function(node) {\n      const childNodes = node.root ? node.root.childNodes : node.childNodes;\n\n      childNodes.forEach((child) => {\n        child.visible = filterNodeMethod.call(child, value, child.data, child);\n\n        traverse(child);\n      });\n\n      if (!node.visible && childNodes.length) {\n        let allHidden = true;\n        allHidden = !childNodes.some(child => child.visible);\n\n        if (node.root) {\n          node.root.visible = allHidden === false;\n        } else {\n          node.visible = allHidden === false;\n        }\n      }\n      if (!value) return;\n\n      if (node.visible && !node.isLeaf && !lazy) node.expand();\n    };\n\n    traverse(this);\n  }\n\n  setData(newVal) {\n    const instanceChanged = newVal !== this.root.data;\n    if (instanceChanged) {\n      this.root.setData(newVal);\n      this._initDefaultCheckedNodes();\n    } else {\n      this.root.updateChildren();\n    }\n  }\n\n  getNode(data) {\n    if (data instanceof Node) return data;\n    const key = typeof data !== 'object' ? data : getNodeKey(this.key, data);\n    return this.nodesMap[key] || null;\n  }\n\n  insertBefore(data, refData) {\n    const refNode = this.getNode(refData);\n    refNode.parent.insertBefore({ data }, refNode);\n  }\n\n  insertAfter(data, refData) {\n    const refNode = this.getNode(refData);\n    refNode.parent.insertAfter({ data }, refNode);\n  }\n\n  remove(data) {\n    const node = this.getNode(data);\n\n    if (node && node.parent) {\n      if (node === this.currentNode) {\n        this.currentNode = null;\n      }\n      node.parent.removeChild(node);\n    }\n  }\n\n  append(data, parentData) {\n    const parentNode = parentData ? this.getNode(parentData) : this.root;\n\n    if (parentNode) {\n      parentNode.insertChild({ data });\n    }\n  }\n\n  _initDefaultCheckedNodes() {\n    const defaultCheckedKeys = this.defaultCheckedKeys || [];\n    const nodesMap = this.nodesMap;\n\n    defaultCheckedKeys.forEach((checkedKey) => {\n      const node = nodesMap[checkedKey];\n\n      if (node) {\n        node.setChecked(true, !this.checkStrictly);\n      }\n    });\n  }\n\n  _initDefaultCheckedNode(node) {\n    const defaultCheckedKeys = this.defaultCheckedKeys || [];\n\n    if (defaultCheckedKeys.indexOf(node.key) !== -1) {\n      node.setChecked(true, !this.checkStrictly);\n    }\n  }\n\n  setDefaultCheckedKey(newVal) {\n    if (newVal !== this.defaultCheckedKeys) {\n      this.defaultCheckedKeys = newVal;\n      this._initDefaultCheckedNodes();\n    }\n  }\n\n  registerNode(node) {\n    const key = this.key;\n    if (!key || !node || !node.data) return;\n\n    const nodeKey = node.key;\n    if (nodeKey !== undefined) this.nodesMap[node.key] = node;\n\n    //mycode\n    if (nodeKey !== undefined) {\n      this.myNodesMap.push({\n        [node.key]: node\n      });\n    }\n  }\n\n  deregisterNode(node) {\n    const key = this.key;\n    if (!key || !node || !node.data) return;\n\n    node.childNodes.forEach(child => {\n      this.deregisterNode(child);\n    });\n\n    delete this.nodesMap[node.key];\n  }\n\n  getCheckedNodes(leafOnly = false, includeHalfChecked = false) {\n    const checkedNodes = [];\n    const traverse = function(node) {\n      const childNodes = node.root ? node.root.childNodes : node.childNodes;\n\n      childNodes.forEach((child) => {\n        if ((child.checked || (includeHalfChecked && child.indeterminate)) && (!leafOnly || (leafOnly && child.isLeaf))) {\n          checkedNodes.push(child.data);\n        }\n\n        traverse(child);\n      });\n    };\n\n    traverse(this);\n\n    return checkedNodes;\n  }\n\n  getCheckedKeys(leafOnly = false) {\n    return this.getCheckedNodes(leafOnly).map((data) => (data || {})[this.key]);\n  }\n\n  getHalfCheckedNodes() {\n    const nodes = [];\n    const traverse = function(node) {\n      const childNodes = node.root ? node.root.childNodes : node.childNodes;\n\n      childNodes.forEach((child) => {\n        if (child.indeterminate) {\n          nodes.push(child.data);\n        }\n\n        traverse(child);\n      });\n    };\n\n    traverse(this);\n\n    return nodes;\n  }\n\n  getHalfCheckedKeys() {\n    return this.getHalfCheckedNodes().map((data) => (data || {})[this.key]);\n  }\n\n  _getAllNodes() {\n    const allNodes = [];\n    const nodesMap = this.nodesMap;\n    for (let nodeKey in nodesMap) {\n      if (nodesMap.hasOwnProperty(nodeKey)) {\n        allNodes.push(nodesMap[nodeKey]);\n      }\n    }\n\n    return allNodes;\n  }\n\n  updateChildren(key, data) {\n    const node = this.nodesMap[key];\n    if (!node) return;\n    const childNodes = node.childNodes;\n    for (let i = childNodes.length - 1; i >= 0; i--) {\n      const child = childNodes[i];\n      this.remove(child.data);\n    }\n    for (let i = 0, j = data.length; i < j; i++) {\n      const child = data[i];\n      this.append(child, node.data);\n    }\n  }\n\n  _setCheckedKeys(key, leafOnly = false, checkedKeys) {\n    const allNodes = this._getAllNodes().sort((a, b) => b.level - a.level);\n    const cache = Object.create(null);\n    const keys = Object.keys(checkedKeys);\n    allNodes.forEach(node => node.setChecked(false, false));\n    for (let i = 0, j = allNodes.length; i < j; i++) {\n      const node = allNodes[i];\n      const nodeKey = node.data[key].toString();\n      let checked = keys.indexOf(nodeKey) > -1;\n      if (!checked) {\n        if (node.checked && !cache[nodeKey]) {\n          node.setChecked(false, false);\n        }\n        continue;\n      }\n\n      let parent = node.parent;\n      while (parent && parent.level > 0) {\n        cache[parent.data[key]] = true;\n        parent = parent.parent;\n      }\n\n      if (node.isLeaf || this.checkStrictly) {\n        node.setChecked(true, false);\n        continue;\n      }\n      node.setChecked(true, true);\n\n      if (leafOnly) {\n        node.setChecked(false, false);\n        const traverse = function(node) {\n          const childNodes = node.childNodes;\n          childNodes.forEach((child) => {\n            if (!child.isLeaf) {\n              child.setChecked(false, false);\n            }\n            traverse(child);\n          });\n        };\n        traverse(node);\n      }\n    }\n  }\n\n  setCheckedNodes(array, leafOnly = false) {\n    const key = this.key;\n    const checkedKeys = {};\n    array.forEach((item) => {\n      checkedKeys[(item || {})[key]] = true;\n    });\n\n    this._setCheckedKeys(key, leafOnly, checkedKeys);\n  }\n\n  setCheckedKeys(keys, leafOnly = false) {\n    this.defaultCheckedKeys = keys;\n    const key = this.key;\n    const checkedKeys = {};\n    keys.forEach((key) => {\n      checkedKeys[key] = true;\n    });\n\n    this._setCheckedKeys(key, leafOnly, checkedKeys);\n  }\n\n  setDefaultExpandedKeys(keys) {\n    keys = keys || [];\n    this.defaultExpandedKeys = keys;\n\n    keys.forEach((key) => {\n      const node = this.getNode(key);\n      if (node) node.expand(null, this.autoExpandParent);\n    });\n  }\n\n  setChecked(data, checked, deep) {\n    const node = this.getNode(data);\n\n    if (node) {\n      node.setChecked(!!checked, deep);\n    }\n  }\n\n  getCurrentNode() {\n    return this.currentNode;\n  }\n\n  setCurrentNode(currentNode) {\n    const prevCurrentNode = this.currentNode;\n    if (prevCurrentNode) {\n      prevCurrentNode.isCurrent = false;\n    }\n    this.currentNode = currentNode;\n    this.currentNode.isCurrent = true;\n  }\n\n  setUserCurrentNode(node) {\n    const key = node[this.key];\n    const currNode = this.nodesMap[key];\n    this.setCurrentNode(currNode);\n  }\n\n  setCurrentNodeKey(key) {\n    if (key === null || key === undefined) {\n      this.currentNode && (this.currentNode.isCurrent = false);\n      this.currentNode = null;\n      return;\n    }\n    const node = this.getNode(key);\n    if (node) {\n      this.setCurrentNode(node);\n    }\n  }\n};\n","var render = function () {\nvar this$1 = this;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.node.visible),expression:\"node.visible\"}],ref:\"node\",staticClass:\"el-tree-node\",class:{\n    'is-expanded': _vm.expanded,\n    'is-current': _vm.node.isCurrent,\n    'is-hidden': !_vm.node.visible,\n    'is-focusable': !_vm.node.disabled,\n    'is-checked': !_vm.node.disabled && _vm.node.checked\n  },attrs:{\"role\":\"treeitem\",\"tabindex\":\"-1\",\"aria-expanded\":_vm.expanded,\"aria-disabled\":_vm.node.disabled,\"aria-checked\":_vm.node.checked,\"draggable\":_vm.tree.draggable},on:{\"click\":function($event){$event.stopPropagation();return _vm.handleClick($event)},\"contextmenu\":function ($event) { return this$1.handleContextMenu($event); },\"dragstart\":function($event){$event.stopPropagation();return _vm.handleDragStart($event)},\"dragover\":function($event){$event.stopPropagation();return _vm.handleDragOver($event)},\"dragend\":function($event){$event.stopPropagation();return _vm.handleDragEnd($event)},\"drop\":function($event){$event.stopPropagation();return _vm.handleDrop($event)}}},[_c('div',{staticClass:\"el-tree-node__content\",style:({ 'padding-left': (_vm.node.level - 1) * _vm.tree.indent + 'px' })},[_c('span',{class:[\n        { 'is-leaf': _vm.node.isLeaf, expanded: !_vm.node.isLeaf && _vm.expanded },\n        'el-tree-node__expand-icon',\n        _vm.tree.iconClass ? _vm.tree.iconClass : 'el-icon-caret-right'\n      ],on:{\"click\":function($event){$event.stopPropagation();return _vm.handleExpandIconClick($event)}}}),(_vm.showCheckbox)?_c('el-checkbox',{attrs:{\"indeterminate\":_vm.node.indeterminate,\"disabled\":!!_vm.node.disabled},on:{\"change\":_vm.handleCheckChange},nativeOn:{\"click\":function($event){$event.stopPropagation();}},model:{value:(_vm.node.checked),callback:function ($$v) {_vm.$set(_vm.node, \"checked\", $$v)},expression:\"node.checked\"}}):_vm._e(),(_vm.node.loading)?_c('span',{staticClass:\"el-tree-node__loading-icon el-icon-loading\"}):_vm._e(),_c('node-content',{attrs:{\"node\":_vm.node}})],1),_c('el-collapse-transition',[(!_vm.renderAfterExpand || _vm.childNodeRendered)?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.expanded),expression:\"expanded\"}],staticClass:\"el-tree-node__children\",attrs:{\"role\":\"group\",\"aria-expanded\":_vm.expanded}},_vm._l((_vm.node.childNodes),function(child){return _c('el-tree-node',{key:_vm.getNodeKey(child),attrs:{\"render-content\":_vm.renderContent,\"render-after-expand\":_vm.renderAfterExpand,\"show-checkbox\":_vm.showCheckbox,\"node\":child},on:{\"node-expand\":_vm.handleChildNodeExpand}})}),1):_vm._e()])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    class=\"el-tree-node\"\n    @click.stop=\"handleClick\"\n    @contextmenu=\"($event) => this.handleContextMenu($event)\"\n    v-show=\"node.visible\"\n    :class=\"{\n      'is-expanded': expanded,\n      'is-current': node.isCurrent,\n      'is-hidden': !node.visible,\n      'is-focusable': !node.disabled,\n      'is-checked': !node.disabled && node.checked\n    }\"\n    role=\"treeitem\"\n    tabindex=\"-1\"\n    :aria-expanded=\"expanded\"\n    :aria-disabled=\"node.disabled\"\n    :aria-checked=\"node.checked\"\n    :draggable=\"tree.draggable\"\n    @dragstart.stop=\"handleDragStart\"\n    @dragover.stop=\"handleDragOver\"\n    @dragend.stop=\"handleDragEnd\"\n    @drop.stop=\"handleDrop\"\n    ref=\"node\"\n  >\n    <div class=\"el-tree-node__content\"\n      :style=\"{ 'padding-left': (node.level - 1) * tree.indent + 'px' }\">\n      <span\n        @click.stop=\"handleExpandIconClick\"\n        :class=\"[\n          { 'is-leaf': node.isLeaf, expanded: !node.isLeaf && expanded },\n          'el-tree-node__expand-icon',\n          tree.iconClass ? tree.iconClass : 'el-icon-caret-right'\n        ]\"\n      >\n      </span>\n      <el-checkbox\n        v-if=\"showCheckbox\"\n        v-model=\"node.checked\"\n        :indeterminate=\"node.indeterminate\"\n        :disabled=\"!!node.disabled\"\n        @click.native.stop\n        @change=\"handleCheckChange\"\n      >\n      </el-checkbox>\n      <span\n        v-if=\"node.loading\"\n        class=\"el-tree-node__loading-icon el-icon-loading\">\n      </span>\n      <node-content :node=\"node\"></node-content>\n    </div>\n    <el-collapse-transition>\n      <div\n        class=\"el-tree-node__children\"\n        v-if=\"!renderAfterExpand || childNodeRendered\"\n        v-show=\"expanded\"\n        role=\"group\"\n        :aria-expanded=\"expanded\"\n      >\n        <el-tree-node\n          :render-content=\"renderContent\"\n          v-for=\"child in node.childNodes\"\n          :render-after-expand=\"renderAfterExpand\"\n          :show-checkbox=\"showCheckbox\"\n          :key=\"getNodeKey(child)\"\n          :node=\"child\"\n          @node-expand=\"handleChildNodeExpand\">\n        </el-tree-node>\n      </div>\n    </el-collapse-transition>\n  </div>\n</template>\n\n<script type=\"text/jsx\">\n  import ElCollapseTransition from 'element-ui/src/transitions/collapse-transition';\n  import ElCheckbox from 'element-ui/packages/checkbox';\n  import emitter from 'element-ui/src/mixins/emitter';\n  import { getNodeKey } from './model/util';\n\n  export default {\n    name: 'ElTreeNode',\n\n    componentName: 'ElTreeNode',\n\n    mixins: [emitter],\n\n    props: {\n      node: {\n        default() {\n          return {};\n        }\n      },\n      props: {},\n      renderContent: Function,\n      renderAfterExpand: {\n        type: Boolean,\n        default: true\n      },\n      showCheckbox: {\n        type: Boolean,\n        default: false\n      }\n    },\n\n    components: {\n      ElCollapseTransition,\n      ElCheckbox,\n      NodeContent: {\n        props: {\n          node: {\n            required: true\n          }\n        },\n        render(h) {\n          const parent = this.$parent;\n          const tree = parent.tree;\n          const node = this.node;\n          const { data, store } = node;\n          return (\n            parent.renderContent\n              ? parent.renderContent.call(parent._renderProxy, h, { _self: tree.$vnode.context, node, data, store })\n              : tree.$scopedSlots.default\n                ? tree.$scopedSlots.default({ node, data })\n                : <span class=\"el-tree-node__label\">{ node.label }</span>\n          );\n        }\n      }\n    },\n\n    data() {\n      return {\n        tree: null,\n        expanded: false,\n        childNodeRendered: false,\n        oldChecked: null,\n        oldIndeterminate: null\n      };\n    },\n\n    watch: {\n      'node.indeterminate'(val) {\n        this.handleSelectChange(this.node.checked, val);\n      },\n\n      'node.checked'(val) {\n        this.handleSelectChange(val, this.node.indeterminate);\n      },\n\n      'node.expanded'(val) {\n        this.$nextTick(() => this.expanded = val);\n        if (val) {\n          this.childNodeRendered = true;\n        }\n      }\n    },\n\n    methods: {\n      getNodeKey(node) {\n        return getNodeKey(this.tree.nodeKey, node.data);\n      },\n\n      handleSelectChange(checked, indeterminate) {\n        if (this.oldChecked !== checked && this.oldIndeterminate !== indeterminate) {\n          this.tree.$emit('check-change', this.node.data, checked, indeterminate);\n        }\n        this.oldChecked = checked;\n        this.indeterminate = indeterminate;\n      },\n\n      handleClick() {\n        const store = this.tree.store;\n        store.setCurrentNode(this.node);\n        this.tree.$emit('current-change', store.currentNode ? store.currentNode.data : null, store.currentNode);\n        this.tree.currentNode = this;\n        if (this.tree.expandOnClickNode) {\n          this.handleExpandIconClick();\n        }\n        if (this.tree.checkOnClickNode && !this.node.disabled) {\n          this.handleCheckChange(null, {\n            target: { checked: !this.node.checked }\n          });\n        }\n        this.tree.$emit('node-click', this.node.data, this.node, this);\n      },\n\n      handleContextMenu(event) {\n        if (this.tree._events['node-contextmenu'] && this.tree._events['node-contextmenu'].length > 0) {\n          event.stopPropagation();\n          event.preventDefault();\n        }\n        this.tree.$emit('node-contextmenu', event, this.node.data, this.node, this);\n      },\n\n      handleExpandIconClick() {\n        if (this.node.isLeaf) return;\n        if (this.expanded) {\n          this.tree.$emit('node-collapse', this.node.data, this.node, this);\n          this.node.collapse();\n        } else {\n          this.node.expand();\n          this.$emit('node-expand', this.node.data, this.node, this);\n        }\n      },\n\n      handleCheckChange(value, ev) {\n        this.node.setChecked(ev.target.checked, !this.tree.checkStrictly);\n        this.$nextTick(() => {\n          const store = this.tree.store;\n          this.tree.$emit('check', this.node.data, {\n            checkedNodes: store.getCheckedNodes(),\n            checkedKeys: store.getCheckedKeys(),\n            halfCheckedNodes: store.getHalfCheckedNodes(),\n            halfCheckedKeys: store.getHalfCheckedKeys(),\n          });\n        });\n      },\n\n      handleChildNodeExpand(nodeData, node, instance) {\n        this.broadcast('ElTreeNode', 'tree-node-expand', node);\n        this.tree.$emit('node-expand', nodeData, node, instance);\n      },\n\n      handleDragStart(event) {\n        if (!this.tree.draggable) return;\n        this.tree.$emit('tree-node-drag-start', event, this);\n      },\n\n      handleDragOver(event) {\n        if (!this.tree.draggable) return;\n        this.tree.$emit('tree-node-drag-over', event, this);\n        event.preventDefault();\n      },\n\n      handleDrop(event) {\n        event.preventDefault();\n      },\n\n      handleDragEnd(event) {\n        if (!this.tree.draggable) return;\n        this.tree.$emit('tree-node-drag-end', event, this);\n      }\n    },\n\n    created() {\n      const parent = this.$parent;\n\n      if (parent.isTree) {\n        this.tree = parent;\n      } else {\n        this.tree = parent.tree;\n      }\n\n      const tree = this.tree;\n      if (!tree) {\n        console.warn('Can not find node\\'s tree.');\n      }\n\n      const props = tree.props || {};\n      const childrenKey = props['children'] || 'children';\n\n      this.$watch(`node.data.${childrenKey}`, () => {\n        this.node.updateChildren();\n      });\n\n      if (this.node.expanded) {\n        this.expanded = true;\n        this.childNodeRendered = true;\n      }\n\n      if(this.tree.accordion) {\n        this.$on('tree-node-expand', node => {\n          if(this.node !== node) {\n            this.node.collapse();\n          }\n        });\n      }\n    }\n  };\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tree-node.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tree-node.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./tree-node.vue?vue&type=template&id=0df49854&\"\nimport script from \"./tree-node.vue?vue&type=script&lang=js&\"\nexport * from \"./tree-node.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div\n    class=\"el-tree\"\n    :class=\"{\n      'el-tree--highlight-current': highlightCurrent,\n      'is-dragging': !!dragState.draggingNode,\n      'is-drop-not-allow': !dragState.allowDrop,\n      'is-drop-inner': dragState.dropType === 'inner'\n    }\"\n    role=\"tree\"\n  >\n    <el-tree-node\n      v-for=\"child in root.childNodes\"\n      :node=\"child\"\n      :props=\"props\"\n      :render-after-expand=\"renderAfterExpand\"\n      :show-checkbox=\"showCheckbox\"\n      :key=\"getNodeKey(child)\"\n      :render-content=\"renderContent\"\n      @node-expand=\"handleNodeExpand\">\n    </el-tree-node>\n    <div class=\"el-tree__empty-block\" v-if=\"isEmpty\">\n      <span class=\"el-tree__empty-text\">{{ emptyText }}</span>\n    </div>\n    <div\n      v-show=\"dragState.showDropIndicator\"\n      class=\"el-tree__drop-indicator\"\n      ref=\"dropIndicator\">\n    </div>\n  </div>\n</template>\n\n<script>\n  import TreeStore from './model/tree-store';\n  import { getNodeKey, findNearestComponent } from './model/util';\n  import ElTreeNode from './tree-node.vue';\n  import {t} from 'element-ui/src/locale';\n  import emitter from 'element-ui/src/mixins/emitter';\n  import { addClass, removeClass } from 'element-ui/src/utils/dom';\n\n  export default {\n    name: 'ElTree',\n\n    mixins: [emitter],\n\n    components: {\n      ElTreeNode\n    },\n\n    data() {\n      return {\n        store: null,\n        root: null,\n        currentNode: null,\n        treeItems: null,\n        checkboxItems: [],\n        dragState: {\n          showDropIndicator: false,\n          draggingNode: null,\n          dropNode: null,\n          allowDrop: true\n        }\n      };\n    },\n\n    props: {\n      data: {\n        type: Array\n      },\n      emptyText: {\n        type: String,\n        default() {\n          return t('el.tree.emptyText');\n        }\n      },\n      renderAfterExpand: {\n        type: Boolean,\n        default: true\n      },\n      nodeKey: String,\n      checkStrictly: Boolean,\n      defaultExpandAll: Boolean,\n      expandOnClickNode: {\n        type: Boolean,\n        default: true\n      },\n      checkOnClickNode: Boolean,\n      checkDescendants: {\n        type: Boolean,\n        default: false\n      },\n      autoExpandParent: {\n        type: Boolean,\n        default: true\n      },\n      defaultCheckedKeys: Array,\n      defaultExpandedKeys: Array,\n      currentNodeKey: [String, Number],\n      renderContent: Function,\n      showCheckbox: {\n        type: Boolean,\n        default: false\n      },\n      draggable: {\n        type: Boolean,\n        default: false\n      },\n      allowDrag: Function,\n      allowDrop: Function,\n      props: {\n        default() {\n          return {\n            children: 'children',\n            label: 'label',\n            disabled: 'disabled'\n          };\n        }\n      },\n      lazy: {\n        type: Boolean,\n        default: false\n      },\n      highlightCurrent: Boolean,\n      load: Function,\n      filterNodeMethod: Function,\n      accordion: Boolean,\n      indent: {\n        type: Number,\n        default: 18\n      },\n      iconClass: String\n    },\n\n    computed: {\n      children: {\n        set(value) {\n          this.data = value;\n        },\n        get() {\n          return this.data;\n        }\n      },\n\n      treeItemArray() {\n        return Array.prototype.slice.call(this.treeItems);\n      },\n\n      isEmpty() {\n        const { childNodes } = this.root;\n        return !childNodes || childNodes.length === 0 || childNodes.every(({visible}) => !visible);\n      }\n    },\n\n    watch: {\n      defaultCheckedKeys(newVal) {\n        this.store.setDefaultCheckedKey(newVal);\n      },\n\n      defaultExpandedKeys(newVal) {\n        this.store.defaultExpandedKeys = newVal;\n        this.store.setDefaultExpandedKeys(newVal);\n      },\n\n      data(newVal) {\n        this.store.setData(newVal);\n      },\n\n      checkboxItems(val) {\n        Array.prototype.forEach.call(val, (checkbox) => {\n          checkbox.setAttribute('tabindex', -1);\n        });\n      },\n\n      checkStrictly(newVal) {\n        this.store.checkStrictly = newVal;\n      }\n    },\n\n    methods: {\n      filter(value) {\n        if (!this.filterNodeMethod) throw new Error('[Tree] filterNodeMethod is required when filter');\n        this.store.filter(value);\n      },\n\n      getNodeKey(node) {\n        return getNodeKey(this.nodeKey, node.data);\n      },\n\n      getNodePath(data) {\n        if (!this.nodeKey) throw new Error('[Tree] nodeKey is required in getNodePath');\n        const node = this.store.getNode(data);\n        if (!node) return [];\n        const path = [node.data];\n        let parent = node.parent;\n        while (parent && parent !== this.root) {\n          path.push(parent.data);\n          parent = parent.parent;\n        }\n        return path.reverse();\n      },\n\n      getCheckedNodes(leafOnly, includeHalfChecked) {\n        return this.store.getCheckedNodes(leafOnly, includeHalfChecked);\n      },\n\n      getCheckedKeys(leafOnly) {\n        return this.store.getCheckedKeys(leafOnly);\n      },\n\n      getCurrentNode() {\n        const currentNode = this.store.getCurrentNode();\n        return currentNode ? currentNode.data : null;\n      },\n\n      getCurrentKey() {\n        if (!this.nodeKey) throw new Error('[Tree] nodeKey is required in getCurrentKey');\n        const currentNode = this.getCurrentNode();\n        return currentNode ? currentNode[this.nodeKey] : null;\n      },\n\n      setCheckedNodes(nodes, leafOnly) {\n        if (!this.nodeKey) throw new Error('[Tree] nodeKey is required in setCheckedNodes');\n        this.store.setCheckedNodes(nodes, leafOnly);\n      },\n\n      setCheckedKeys(keys, leafOnly) {\n        if (!this.nodeKey) throw new Error('[Tree] nodeKey is required in setCheckedKeys');\n        this.store.setCheckedKeys(keys, leafOnly);\n      },\n\n      setChecked(data, checked, deep) {\n        this.store.setChecked(data, checked, deep);\n      },\n\n      //mycode\n      setMyChecked(data, checked, deep) {\n        this.store.setMyChecked(data, checked, deep);\n      },\n\n      getHalfCheckedNodes() {\n        return this.store.getHalfCheckedNodes();\n      },\n\n      getHalfCheckedKeys() {\n        return this.store.getHalfCheckedKeys();\n      },\n\n      setCurrentNode(node) {\n        if (!this.nodeKey) throw new Error('[Tree] nodeKey is required in setCurrentNode');\n        this.store.setUserCurrentNode(node);\n      },\n\n      setCurrentKey(key) {\n        if (!this.nodeKey) throw new Error('[Tree] nodeKey is required in setCurrentKey');\n        this.store.setCurrentNodeKey(key);\n      },\n\n      getNode(data) {\n        return this.store.getNode(data);\n      },\n\n      remove(data) {\n        this.store.remove(data);\n      },\n\n      append(data, parentNode) {\n        this.store.append(data, parentNode);\n      },\n\n      insertBefore(data, refNode) {\n        this.store.insertBefore(data, refNode);\n      },\n\n      insertAfter(data, refNode) {\n        this.store.insertAfter(data, refNode);\n      },\n\n      handleNodeExpand(nodeData, node, instance) {\n        this.broadcast('ElTreeNode', 'tree-node-expand', node);\n        this.$emit('node-expand', nodeData, node, instance);\n      },\n\n      updateKeyChildren(key, data) {\n        if (!this.nodeKey) throw new Error('[Tree] nodeKey is required in updateKeyChild');\n        this.store.updateChildren(key, data);\n      },\n\n      initTabIndex() {\n        this.treeItems = this.$el.querySelectorAll('.is-focusable[role=treeitem]');\n        this.checkboxItems = this.$el.querySelectorAll('input[type=checkbox]');\n        const checkedItem = this.$el.querySelectorAll('.is-checked[role=treeitem]');\n        if (checkedItem.length) {\n          checkedItem[0].setAttribute('tabindex', 0);\n          return;\n        }\n        this.treeItems[0] && this.treeItems[0].setAttribute('tabindex', 0);\n      },\n\n      handleKeydown(ev) {\n        const currentItem = ev.target;\n        if (currentItem.className.indexOf('el-tree-node') === -1) return;\n        const keyCode = ev.keyCode;\n        this.treeItems = this.$el.querySelectorAll('.is-focusable[role=treeitem]');\n        const currentIndex = this.treeItemArray.indexOf(currentItem);\n        let nextIndex;\n        if ([38, 40].indexOf(keyCode) > -1) { // up、down\n          ev.preventDefault();\n          if (keyCode === 38) { // up\n            nextIndex = currentIndex !== 0 ? currentIndex - 1 : 0;\n          } else {\n            nextIndex = (currentIndex < this.treeItemArray.length - 1) ? currentIndex + 1 : 0;\n          }\n          this.treeItemArray[nextIndex].focus(); // 选中\n        }\n        if ([37, 39].indexOf(keyCode) > -1) { // left、right 展开\n          ev.preventDefault();\n          currentItem.click(); // 选中\n        }\n        const hasInput = currentItem.querySelector('[type=\"checkbox\"]');\n        if ([13, 32].indexOf(keyCode) > -1 && hasInput) { // space enter选中checkbox\n          ev.preventDefault();\n          hasInput.click();\n        }\n      }\n    },\n\n    created() {\n      this.isTree = true;\n\n      this.store = new TreeStore({\n        key: this.nodeKey,\n        data: this.data,\n        lazy: this.lazy,\n        props: this.props,\n        load: this.load,\n        currentNodeKey: this.currentNodeKey,\n        checkStrictly: this.checkStrictly,\n        checkDescendants: this.checkDescendants,\n        defaultCheckedKeys: this.defaultCheckedKeys,\n        defaultExpandedKeys: this.defaultExpandedKeys,\n        autoExpandParent: this.autoExpandParent,\n        defaultExpandAll: this.defaultExpandAll,\n        filterNodeMethod: this.filterNodeMethod\n      });\n\n      this.root = this.store.root;\n\n      let dragState = this.dragState;\n      this.$on('tree-node-drag-start', (event, treeNode) => {\n        if (typeof this.allowDrag === 'function' && !this.allowDrag(treeNode.node)) {\n          event.preventDefault();\n          return false;\n        }\n        event.dataTransfer.effectAllowed = 'move';\n\n        // wrap in try catch to address IE's error when first param is 'text/plain'\n        try {\n          // setData is required for draggable to work in FireFox\n          // the content has to be '' so dragging a node out of the tree won't open a new tab in FireFox\n          event.dataTransfer.setData('text/plain', '');\n        } catch (e) {}\n        dragState.draggingNode = treeNode;\n        this.$emit('node-drag-start', treeNode.node, event);\n      });\n\n      this.$on('tree-node-drag-over', (event, treeNode) => {\n        const dropNode = findNearestComponent(event.target, 'ElTreeNode');\n        const oldDropNode = dragState.dropNode;\n        if (oldDropNode && oldDropNode !== dropNode) {\n          removeClass(oldDropNode.$el, 'is-drop-inner');\n        }\n        const draggingNode = dragState.draggingNode;\n        if (!draggingNode || !dropNode) return;\n\n        let dropPrev = true;\n        let dropInner = true;\n        let dropNext = true;\n        let userAllowDropInner = true;\n        if (typeof this.allowDrop === 'function') {\n          dropPrev = this.allowDrop(draggingNode.node, dropNode.node, 'prev');\n          userAllowDropInner = dropInner = this.allowDrop(draggingNode.node, dropNode.node, 'inner');\n          dropNext = this.allowDrop(draggingNode.node, dropNode.node, 'next');\n        }\n        event.dataTransfer.dropEffect = dropInner ? 'move' : 'none';\n        if ((dropPrev || dropInner || dropNext) && oldDropNode !== dropNode) {\n          if (oldDropNode) {\n            this.$emit('node-drag-leave', draggingNode.node, oldDropNode.node, event);\n          }\n          this.$emit('node-drag-enter', draggingNode.node, dropNode.node, event);\n        }\n\n        if (dropPrev || dropInner || dropNext) {\n          dragState.dropNode = dropNode;\n        }\n\n        if (dropNode.node.nextSibling === draggingNode.node) {\n          dropNext = false;\n        }\n        if (dropNode.node.previousSibling === draggingNode.node) {\n          dropPrev = false;\n        }\n        if (dropNode.node.contains(draggingNode.node, false)) {\n          dropInner = false;\n        }\n        if (draggingNode.node === dropNode.node || draggingNode.node.contains(dropNode.node)) {\n          dropPrev = false;\n          dropInner = false;\n          dropNext = false;\n        }\n\n        const targetPosition = dropNode.$el.getBoundingClientRect();\n        const treePosition = this.$el.getBoundingClientRect();\n\n        let dropType;\n        const prevPercent = dropPrev ? (dropInner ? 0.25 : (dropNext ? 0.45 : 1)) : -1;\n        const nextPercent = dropNext ? (dropInner ? 0.75 : (dropPrev ? 0.55 : 0)) : 1;\n\n        let indicatorTop = -9999;\n        const distance = event.clientY - targetPosition.top;\n        if (distance < targetPosition.height * prevPercent) {\n          dropType = 'before';\n        } else if (distance > targetPosition.height * nextPercent) {\n          dropType = 'after';\n        } else if (dropInner) {\n          dropType = 'inner';\n        } else {\n          dropType = 'none';\n        }\n\n        const iconPosition = dropNode.$el.querySelector('.el-tree-node__expand-icon').getBoundingClientRect();\n        const dropIndicator = this.$refs.dropIndicator;\n        if (dropType === 'before') {\n          indicatorTop = iconPosition.top - treePosition.top;\n        } else if (dropType === 'after') {\n          indicatorTop = iconPosition.bottom - treePosition.top;\n        }\n        dropIndicator.style.top = indicatorTop + 'px';\n        dropIndicator.style.left = (iconPosition.right - treePosition.left) + 'px';\n\n        if (dropType === 'inner') {\n          addClass(dropNode.$el, 'is-drop-inner');\n        } else {\n          removeClass(dropNode.$el, 'is-drop-inner');\n        }\n\n        dragState.showDropIndicator = dropType === 'before' || dropType === 'after';\n        dragState.allowDrop = dragState.showDropIndicator || userAllowDropInner;\n        dragState.dropType = dropType;\n        this.$emit('node-drag-over', draggingNode.node, dropNode.node, event);\n      });\n\n      this.$on('tree-node-drag-end', (event) => {\n        const { draggingNode, dropType, dropNode } = dragState;\n        event.preventDefault();\n        event.dataTransfer.dropEffect = 'move';\n\n        if (draggingNode && dropNode) {\n          const draggingNodeCopy = { data: draggingNode.node.data };\n          if (dropType !== 'none') {\n            draggingNode.node.remove();\n          }\n          if (dropType === 'before') {\n            dropNode.node.parent.insertBefore(draggingNodeCopy, dropNode.node);\n          } else if (dropType === 'after') {\n            dropNode.node.parent.insertAfter(draggingNodeCopy, dropNode.node);\n          } else if (dropType === 'inner') {\n            dropNode.node.insertChild(draggingNodeCopy);\n          }\n          if (dropType !== 'none') {\n            this.store.registerNode(draggingNodeCopy);\n          }\n\n          removeClass(dropNode.$el, 'is-drop-inner');\n\n          this.$emit('node-drag-end', draggingNode.node, dropNode.node, dropType, event);\n          if (dropType !== 'none') {\n            this.$emit('node-drop', draggingNode.node, dropNode.node, dropType, event);\n          }\n        }\n        if (draggingNode && !dropNode) {\n          this.$emit('node-drag-end', draggingNode.node, null, dropType, event);\n        }\n\n        dragState.showDropIndicator = false;\n        dragState.draggingNode = null;\n        dragState.dropNode = null;\n        dragState.allowDrop = true;\n      });\n    },\n\n    mounted() {\n      this.initTabIndex();\n      this.$el.addEventListener('keydown', this.handleKeydown);\n    },\n\n    updated() {\n      this.treeItems = this.$el.querySelectorAll('[role=treeitem]');\n      this.checkboxItems = this.$el.querySelectorAll('input[type=checkbox]');\n    }\n  };\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tree.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tree.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./tree.vue?vue&type=template&id=6a817cd5&\"\nimport script from \"./tree.vue?vue&type=script&lang=js&\"\nexport * from \"./tree.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n<template>\n  <section\n    v-if=\"show\" \n    class=\"h-transfer\" \n    :class=\"[tabConfig.length == 1 ? 'single-tab' : '']\" >\n    <div class=\"mask\"></div>\n    <!-- 内容面板 -->\n    <div class=\"transfer__content\">\n      <!-- 面板顶部标题 -->\n      <header class=\"transfer__header\">\n        <i class=\"el-icon-monitor\"></i>\n        {{ title }}\n        <i class=\"el-icon-close\" @click=\"closeTransfer\" ></i>\n      </header>\n      <!-- 穿梭框主要内容 -->\n      <div class=\"transfer__body\">\n        <!-- 左边穿梭框 -->\n        <div class=\"transfer-pane\">\n          <div class=\"transfer-pane__tools\">\n            <el-input\n              v-model=\"searchString\"\n              class=\"search-input\"\n              size=\"mini\"\n              style=\"width: 180px;\"\n              type=\"search\"\n              placeholder=\"搜索人员\"\n              :disabled=\"!searchable\"\n            ></el-input>\n            <span>\n              <span style=\"margin-right: 1rem;font-size: 14px;\">{{ selectedNum }} / {{ maxNum }}</span>\n              <el-tooltip placement=\"top\" content=\"清空\">\n                <i class=\"el-icon-delete\" @click=\"removeAll\"></i>\n              </el-tooltip>\n            </span>\n          </div>\n          <el-scrollbar class=\"transfer-pane__body shadow right-pane\">\n            <template v-for=\"type in tabKeys\">\n              <div\n                v-for=\"(item, index) in selectedData[type]\"\n                :key=\"type + index\"\n                class=\"selected-item\">\n                <span>\n                  <!-- <i v-if=\"item.deptName\" class=\"iconfont iconbumen\"></i>\n                  <i v-else class=\"iconfont iconyuangong\"></i> &nbsp; -->\n                  <span>{{ getNodeProp(item, 'label') }}</span>\n                </span>\n                <i\n                  class=\"el-icon-delete\"\n                  @click=\"removeData(item, type)\"\n                ></i>\n              </div>\n            </template>\n            <template v-for=\"type in tabKeys\">\n             <div\n                v-for=\"(item, index) in aloneCheckedData[type]\"\n                :key=\"'alone' + type + index\"\n                class=\"selected-item\"\n              >\n                <span>\n                  <!-- <i v-if=\"item.deptName\" class=\"iconfont iconbumen\"></i>\n                  <i v-else class=\"iconfont iconyuangong\"></i> &nbsp; -->\n                  <span>{{ getNodeProp(item, 'label') }}</span>\n                </span>\n                <i\n                  class=\"el-icon-delete\"\n                  @click=\"removeData(item, type, true)\"\n                ></i>\n              </div>\n            </template>\n          </el-scrollbar>\n          <footer class=\"transfer__footer\">\n            <el-button type=\"primary\" plain size=\"mini\" @click=\"confirm\" >确定</el-button >\n            <el-button plain size=\"mini\" @click=\"closeTransfer\">取消</el-button>\n          </footer>\n        </div>\n        <!-- 右边穿梭框 -->\n        \n        <div class=\"transfer-pane\">\n          <!-- 操作栏 -->\n          <!-- <div class=\"transfer-pane__tools\">\n            \n          </div> -->\n          <!-- 穿梭框 -->\n          <div class=\"transfer-pane__body\" style=\"height: 370px;\">\n            <div class=\"enough-mask\" v-show=\"isEnough\">\n              <span class=\"p-center\">最多选择{{ maxNum }}项</span>\n            </div>\n            <!-- 搜索查询的结果 -->\n            <div\n              class=\"searchResPane\"\n              :class=\"{ active: searchMode }\"\n              v-loading=\"searchLoading\" >\n              <div class=\"hidden-tag\" @click=\"searchString = ''\">关闭</div>\n              <div v-for=\"(item, index) in searchRes\" :key=\"index\" class=\"item\" @click=\"searchItemClick(item)\">\n                <div>\n                  <div>{{ getNodeProp(item, 'label') }}</div>\n                  <div class=\"text-ellipsis search-res-tip\" >\n                    {{ getNodeProp(item, 'searchResTip') }}\n                  </div>\n                </div>\n                <el-checkbox v-model=\"item.checked\" @change=\"checked => checked ? addData(item) : removeData(item, activeTabName, true)\" @click.stop.native=\"()=>{}\"></el-checkbox>\n              </div>\n            </div>\n            <!-- 手动选择的人员tree -->\n            <el-scrollbar style=\"height:100%;\">\n              <el-tabs\n                v-model=\"activeTabName\"\n                type=\"border-card\"\n                style=\"min-height: 370px;\"\n              >\n                <el-tab-pane v-for=\"(tab_item, idx) in tabConfig\" :name=\"tab_item.tabKey\" :label=\"tab_item.tabName\" :key=\"idx\">\n                  <el-tree\n                    :ref=\"tab_item.tabKey\"\n                    lazy\n                    show-checkbox\n                    :props=\"{\n                      children: tab_item.children,\n                      label: tab_item.label,\n                      isLeaf: tab_item.isLeaf,\n                      disabled: tab_item.disabled\n                    }\"\n                    :load=\"onLoad\"\n                    node-key=\"nodeId\"\n                    :check-strictly=\"true\"\n                    @check-change=\"(data, checked) => onCheckChange(data, checked, tab_item.tabKey)\"\n                  >\n                  </el-tree>\n                </el-tab-pane>\n              </el-tabs>\n            </el-scrollbar>\n          </div>\n        </div>\n      </div>\n      \n    </div>\n  </section>\n</template>\n\n<script>\n/* eslint-disable no-prototype-builtins */\n/* eslint-disable no-debugger */\n/* eslint-disable no-return-assign */\n/* eslint-disable handle-callback-err */\nimport { getDept} from '@/api'\nimport { DEP_CONFIG, ROLE_CONFIG, CONFIG_LIST } from './config.js'\nimport { debounce ,handlereduce} from '@/utils/index.js'\nimport ElTree from \"@/lib/tree/src/tree.vue\";\nexport default {\n  name: 'fc-org-transfer',\n  components: {ElTree},\n  props: {\n    // v-model 已经选择过的数据 用于回显\n    value: {\n      type: Object,\n      default: () => ({})\n    },\n    // 字符串数组使用配置文件的预设值\n    // 对象数组需要包含 key/conf 两个属性 conf 会覆盖对应key的默认配置\n    tabList: {\n      type: Array,\n      default: () => ['dep', 'role']\n    },\n    title: {\n      type: String,\n      default: '组织机构'\n    },\n    show: {\n      type: Boolean,\n      reuired: true\n    },\n    // 是否支持模糊查询\n    searchable: {\n      type: Boolean,\n      default: true\n    },\n    // 可选择的最大数量\n    maxNum: {\n      type: Number,\n      default: 99\n    }\n  },\n  data () {\n    \n    return {\n      searchRes: [],  // 搜索后的结果\n      selectedData: [],   // 用户手动选择的节点(在tree里面已经显示的节点)\n      aloneCheckedData: [], // 已有的 但是未在tree中渲染的数据 例如回显时的数据\n      isEnough: false,  // 是否选择了足够的人数\n      searchString: '',  //搜索的关键词\n      searchMode: false,  // 是否展示搜索面板\n      searchLoading: false, \n      activeTabName: '',//默认获取tabKeys的第一个类型，右侧展示的title\n      tabConfig: [],\n      tabKeys: [],//选择的人员的类型：指定成员,主管,发起人自己,发起人自选\n    }\n  },\n  computed: {\n    selectedNum () {\n      let num = 0\n      for (const key of this.tabKeys) {\n        const data1 = this.selectedData[key]\n        data1 && data1.length && (num += data1.length)\n        const data2 = this.aloneCheckedData[key]\n        data2 && data2.length && (num += data2.length)\n      }\n      return num\n    }\n  },\n  mounted () {\n     //判断选择人数\n    this.isNumEnough()\n    this.debounceSearch = debounce(this.searchDepUser, 500)\n  },\n  methods: {\n    //组织架构的数据懒加载\n    onLoad (node, resolve) {\n      const subDepartList=node.data && node.data.subDepartList || []\n      const conf= this.tabConfig.find(t => t.tabKey === this.activeTabName)\n      // load 方法返回一个promise\n      // console.log(\"orgtransfer-conf\",conf)\n      conf.onload(node).then(res => {\n        let nodes = res.map( t => ( { nodeId: conf.nodeId(t), ...t } ) )\n        nodes=[...subDepartList,...nodes]\n        resolve(nodes)\n        for (const tabKey of this.tabKeys) {\n          const tree = this.$refs[tabKey][0]\n          this.selectedData[tabKey].forEach(data => {\n            // tree.setChecked(data.nodeId, true)\n            tree.setMyChecked(data, true, true);\n          })\n        }\n      }).then(res=>{\n        for (const tabKey of this.tabKeys) {\n          const tree = this.$refs[tabKey][0]\n          this.aloneCheckedData[tabKey].forEach(data => {\n            // tree.setChecked(data.nodeId, true)\n            tree.setMyChecked(data, true, true);\n          })\n        }\n      })\n    },\n    //通过关键字检索到的用户\n    searchDepUser () {\n      if (!this.searchString) {\n        this.searchRes = []\n        return\n      }\n      this.searchLoading = true\n      const activeConfig = this.getActiveConf()\n      new Promise((resolve, reject) => {\n        activeConfig.onsearch(this.searchString, resolve, reject)\n      })\n        .then(res => {\n          //获取查询结果\n          this.searchRes = res.map(t => ({ nodeId: activeConfig.nodeId(t),checked:false, ...t }))\n          //根据选中和查询结果做对比，已选中的添加选中状态\n          const allSelectData = {}\n          for (const type of this.tabKeys) {\n            allSelectData[type] = this.selectedData[type].concat(this.aloneCheckedData[type])\n          }\n          for (const item in allSelectData){\n             allSelectData[item].forEach(i=>{\n               this.searchRes.forEach(j=>{\n                 if(i.nodeId===j.nodeId){\n                   j.checked=true\n                 }\n               })\n             })\n          }\n            \n        })\n        .catch(err => console.warn(err))\n        .finally(() => this.searchLoading = false)\n    },\n    //选中/取消选中的\n    onCheckChange (data, checked, tabKey) {\n      this.activeTabName = tabKey\n      const index = this.aloneCheckedData[tabKey].findIndex(t => t.nodeId === data.nodeId)\n      if (index > -1) {\n        this.aloneCheckedData[tabKey].splice(index, 1)\n      }\n      this.$nextTick(() => {\n        const tree = this.$refs[tabKey][0]\n        let nodes = tree.getCheckedNodes().map(t => {\n          !t.nodeId && (t.nodeId = this.getNodeProp(t, 'nodeId', this.activeTabName))\n          return t\n        })\n        tree.setMyChecked(data, checked, true);\n        nodes = handlereduce(nodes,'id');//去除添加的相同用户\n        this.$set(this.selectedData, this.activeTabName,nodes )\n        this.isNumEnough()\n        this.$forceUpdate()\n      })\n    },\n    //点击整条list添加选中或者取消状态\n    searchItemClick(item){\n      if(item.checked){\n        item.checked=false\n        this.removeData(item, this.activeTabName, true)\n      }else{\n        item.checked=true;\n        this.addData(item)\n      }\n    },\n    //添加检索后的数据添加到左侧\n    addData (data) {\n      const tabKey = this.activeTabName;\n      const tree = this.$refs[tabKey][0];//获取tree\n      // tree.setChecked(data.nodeId, true);//给当前选中的用户设置选中状态（在组织架构中设置）\n      tree.setMyChecked(data, true, true);//给当前选中的用户设置选中状态\n      console.log('getChecked',tree.getCheckedKeys(data))\n      !tree.getCheckedKeys(data).includes(data.nodeId)\n      && !this.aloneCheckedData[tabKey].find(t => t.nodeId === data.nodeId)\n      && this.aloneCheckedData[tabKey].push(data)\n      \n      //相同的都设置选中状态（在搜索的结果页面中设置）\n      this.searchRes.forEach(j=>{\n        if(data.nodeId===j.nodeId){\n          j.checked=true\n        }\n      })\n    },\n    //删除选中的数据\n    removeData (data, tabKey, fromAloneData = false) {\n      console.log(\"remocedata\",data)\n      if (fromAloneData) {\n        const index = this.aloneCheckedData[tabKey].findIndex(t => t.nodeId === data.nodeId)\n        index > -1 && this.aloneCheckedData[tabKey].splice(index, 1)\n        this.$refs[tabKey][0].setMyChecked(data, false, true);\n      } else {\n        // this.$refs[tabKey][0].setChecked(data.nodeId, false)  // 触发onCheckChange\n        this.$refs[tabKey][0].setMyChecked(data, false, true);\n      }\n      this.searchRes.forEach(j=>{\n        if(data.nodeId===j.nodeId){\n          j.checked=false\n        }\n      })\n    },\n    //清空选中的数据\n    removeAll () {\n      for (const type of this.tabKeys) {\n        const tree = this.$refs[type][0]\n        tree.getCheckedKeys().forEach(key => {\n          tree.setCheckedKeys([])\n        })\n        this.selectedData[type] = []\n        this.aloneCheckedData[type] = []\n      }\n    },\n    //是否选择了足够的人数\n    isNumEnough () {\n      let count = 0\n      for (const type of this.tabKeys) {\n        count += this.selectedData[type].length\n        count += this.aloneCheckedData[type].length\n      }\n      this.isEnough = count >= this.maxNum\n    },\n    //关闭人员的弹窗\n    closeTransfer () {\n      this.$emit('update:show', false)\n      this.tabKeys = []\n      this.isEnough = false\n      this.searchString = ''\n    },\n    //确定选择的人员数据\n    confirm () {\n      const res = {}\n      for (const type of this.tabKeys) {\n        res[type] = this.selectedData[type].concat(this.aloneCheckedData[type])\n      }\n      this.$emit('confirm', res)\n      this.closeTransfer()\n    },\n\n    getActiveConf(tabKey){\n      const target = tabKey || this.activeTabName\n      return this.tabConfig.find(t => t.tabKey === target)\n    },\n\n    getConfProp(propName, tabKey){\n      const conf = this.getActiveConf(tabKey)\n      return conf ? conf[propName] : null\n    },\n\n    getNodeProp(data, propName, tabKey){\n      try{\n        const prop = this.getConfProp(propName, tabKey)\n        if(typeof prop === 'string'){\n          return data[prop]\n        }\n        if(typeof prop === 'function'){\n          return prop(data)\n        }\n      }catch(e){\n        console.error(e)\n        return '执行出错，可联系开发人员'\n      }\n    },\n    //初始化数据\n    dataInit(){\n      this.aloneCheckedData = {}// 已有的 但是未在tree中渲染的数据 例如回显时的数据\n      this.selectedData = {}//手动选择的用户数据\n      this.tabConfig = []\n      this.tabKeys = []//要展示的角色（dep,user,role,position,dep&user...）\n      const getTabProp = tabItem => typeof tabItem === 'object' ? [tabItem.key, tabItem.config] : [tabItem, {}]\n      const initDefaultData = (key, mergedConfig) => {\n        this.tabConfig.push(mergedConfig)\n        this.tabKeys.push(key)\n        let  data = this.value && this.value[key] ? this.value[key] : []\n        data = data.map(t => ({ nodeId: mergedConfig.nodeId(t), ...t }))\n        this.$set(this.aloneCheckedData, key, data)\n\n      }\n      //tabList,人员类型：指定成员，主管，发起人自己，发起人自选\n      this.tabList.forEach(item => {\n        const [key, customConf] = getTabProp(item)\n        this.$set(this.aloneCheckedData, key, [])\n        this.$set(this.selectedData, key, [])\n        const defaultConf = CONFIG_LIST.find(t => t.tabKey === key)\n        // console.log(\"defaultConf\",customConf)\n        defaultConf && initDefaultData(key, Object.assign({}, defaultConf, customConf))\n      })\n      this.activeTabName = this.tabKeys[0]\n    },\n  },\n  watch: {\n    searchString (newVal) {\n      this.searchMode = !!newVal\n      this.debounceSearch()\n    },\n\n    show: {\n      handler: function (show) {\n        if (show) {\n          this.dataInit() \n          this.isNumEnough()\n        }\n      },\n      immediate: true\n    },\n\n    tabList:{\n      handler: function(val){\n        this.dataInit() // tablist 比show 延后 \n      },\n      immediate: true,\n      deep: true\n    }\n  }\n}\n</script>\n<style lang=\"stylus\">\n.h-transfer{\n  text-align: left;\n  position: fixed;\n  width: 100vw;\n  height: 100vh;\n  top: 0;\n  left: 0;\n  z-index: 2999;\n  line-height: 32px;\n\n  > .mask {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background-color: rgba(0, 0, 0, 0.5);\n  }\n\n  .el-tabs--border-card {\n    box-shadow: none;\n  }\n\n  .el-tabs__content {\n    overflow: visible;\n    min-height: 250px;\n  }\n\n  .el-tabs__nav {\n    width: 100%;\n    display: flex;\n\n    > .el-tabs__item {\n      flex-grow: 1;\n    }\n  }\n\n  &.single-tab .el-tabs__item {\n    text-align: center;\n    background: #f5f7fa !important;\n    border-bottom: 1px solid #e4e7ed;\n    border-right-width: 0px;\n  }\n\n  .el-tree-node__content > label.el-checkbox {\n    // position: absolute;\n    // right: 0;\n  }\n\n  .searchResPane{\n    position: absolute;\n    overflow-y: auto;\n    z-index: 99;\n    left: 0;\n    top: 100%;\n    width: 100%;\n    height: 100%;\n    background: white;\n    border: 1px solid #dcdfe6;\n    transition: top .5s;\n\n\n\n    &.active{\n        top: 0;\n    }\n\n    .hidden-tag{\n        color:#999;\n        font-size:12px;\n        text-align:right;\n        padding-top:4px;\n        padding-right:12px;\n        cursor pointer\n\n        &:hover{\n            color: #66b1ff;\n        }\n    }\n\n    .item{\n        padding: 4px 14px;\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        line-height 1.5\n        &:hover{\n            background-color: #ecf5ff;\n            color: #66b1ff;\n            cursor: pointer;\n        }\n\n        .search-res-tip{\n          font-size:12px;\n          color:#999;\n          max-width: 280px;\n        }\n    }\n  }\n\n  .enough-mask{\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    color: white;\n    font-size: 16px;\n    z-index: 100;\n    height: 100%;\n    background: rgba(0,0,0,0.5);\n    letter-spacing: 4px;\n  }\n\n  .p-center{\n      position absolute\n      top 50%\n      left 50%\n      transform translate(-50%, -50%)\n  }\n\n  .transfer__content {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 800px;\n  background: white;\n  overflow: hidden;\n  border-radius: 4px;\n}\n\n.transfer__header {\n  margin-bottom: 6px;\n  background: #565656;\n  padding: 6px 24px;\n  color: white;\n  .el-icon-close{\n    cursor:pointer;\n    float: right;\n    margin-top: 10px;\n  }\n}\n\n\n.transfer__body {\n  padding: 12px 0;\n  display: flex;\n  justify-content: space-around;\n}\n\n.transfer-pane {\n  width: 360px;\n}\n  .search-input  input{\n    border: 1px solid #DCDFE6 !important;\n    &:focus{\n      border-color:#409EFF !important;\n    }\n  }\n\n.transfer-pane__tools {\n  margin-bottom: 10px;\n  height: 30px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n\n\n  span:last-child {\n    cursor: pointer;\n  }\n}\n\n.transfer-pane__body {\n  position relative\n  width: 100%;\n  height: 330px;\n  overflow hidden\n  font-size: 14px;\n\n  >>> .el-scrollbar__view{\n    height: 100%;\n  }\n\n  .el-tabs__item {\n    height: 26px;\n    line-height: 26px;\n  }\n}\n\n.transfer-icons {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n\n  i {\n    margin-top: 20px;\n    margin-bottom: 20px;\n    cursor: pointer;\n    font-size: 20px;\n    color: #696969;\n\n    &:hover {\n      transform: scale(1.1);\n    }\n  }\n}\n\n.tree-node {\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-size: 14px;\n  padding-right: 8px;\n\n  .node-label {\n    max-width: 250px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    display: inline-block;\n  }\n\n  .node-checkbox {\n    position: absolute;\n    right: 0;\n  }\n\n  i {\n    &:hover {\n      color: #1485f8;\n      cursor: pointer;\n    }\n\n    font-size: 10px;\n  }\n}\n\n.right-pane {\n  box-sizing: border-box;\n  overflow-x: hidden;\n  height: 290px;\n  margin-bottom: 10px;\n\n  .selected-item {\n    padding: 0px 12px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n\n    &:hover {\n      background-color: #F5F7FA;\n    }\n\n    span {\n      max-width: 90%;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n\n    i {\n      &:hover {\n        color: #1485f8;\n        cursor: pointer;\n      }\n    }\n  }\n}\n\n.dot{\n  width: 2px;\n  height: 2px;\n  display: inline-block;\n  border-radius: 50%;\n  background: #4caf50;\n}\n\n  .text-ellipsis{\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=bb98bd82&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"fc-org-select\"},[_c('div',{staticClass:\"tags\"},[(_vm.buttonType === 'button')?_c('el-button',{staticStyle:{\"margin-bottom\":\"6px\"},attrs:{\"size\":\"small\",\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":function($event){_vm.show = true}}},[_vm._v(\" 添加\"+_vm._s(_vm.title)+\" \")]):_vm._e(),_c('div',{staticClass:\"input-box\",class:{'as-input': _vm.buttonType === 'input'},on:{\"click\":function($event){_vm.show = true}}},_vm._l((_vm.selectedData),function(item){return _c('el-tag',_vm._b({key:item.key,staticClass:\"org-tag\",on:{\"close\":function($event){return _vm.onClose(item)}}},'el-tag',_vm.tagConfig,false),[_vm._v(\" \"+_vm._s(item.label)+\" \")])}),1)],1),_c('fc-org-transfer',{ref:\"transfer\",attrs:{\"value\":_vm.innerValue,\"title\":_vm.title,\"searchable\":_vm.searchable,\"maxNum\":_vm.maxNum,\"tabList\":_vm.tabList,\"show\":_vm.show},on:{\"update:show\":function($event){_vm.show=$event},\"confirm\":_vm.onConfirm}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"fc-org-select\">\n    <div class=\"tags\">\n      <el-button \n        v-if=\"buttonType === 'button'\" \n        size=\"small\" \n        type=\"primary\"\n        icon=\"el-icon-plus\" \n        @click=\"show = true\"\n        style=\"margin-bottom: 6px;\">\n          添加{{title}}\n      </el-button>\n      <div class=\"input-box\" :class=\"{'as-input': buttonType === 'input'}\"  @click=\"show = true\">\n          <el-tag\n            v-bind=\"tagConfig\"\n            class=\"org-tag\"\n            v-for=\"item in selectedData\"\n            :key=\"item.key\"\n            @close=\"onClose(item)\">\n            {{item.label}}\n          </el-tag>\n      </div>\n      \n    </div>\n    <fc-org-transfer\n      ref=\"transfer\"\n      :value=\"innerValue\" \n      :title=\"title\" \n      :searchable=\"searchable\" \n      :maxNum=\"maxNum\"\n      :tabList=\"tabList\"\n      :show.sync=\"show\"\n      @confirm=\"onConfirm\" />\n  </div>\n</template>\n<script>\nexport default {\n  model:{\n    prop: 'value',\n    event: 'input'\n  },\n  name:'fc-org-select',\n  props:{\n    value:{\n      type: Object | null,\n      required: true\n    },\n    tabList: {\n      type: Array,\n      default: ()=>(['dep'])\n    },\n    title: {\n      type: String,\n      default: '组织机构'\n    },\n    buttonType: {\n      type: String,\n      default: 'input'\n    }, // or input\n    searchable: {\n      type: Boolean,\n      default: true\n    },\n    maxNum: {\n      type: Number,\n      default: 99\n    },\n    tagConfig:{\n      type: Object,\n      default: () => ({\n        type: 'info',\n        closable: true,\n        'disable-transitions': false,\n        hit: false,\n        color: undefined,\n        size: 'small',\n        effect: 'light'\n      })\n    },\n  },\n  data(){\n    return {\n      tabKeys:[],\n      show: false,\n      innerValue: null,\n      selectedData: []\n    }\n  },\n  watch:{\n    value: {\n      handler:function (val) {\n        if(!val) return\n        this.reloadCmpData()\n      },\n      immediate: true,\n      deep: true\n    },\n    tabList: {\n      handler:function (val) {\n        // console.log(\"tablist-val----\",val)\n        this.tabKeys = []\n        val.forEach(t => this.tabKeys.push(typeof t === 'string' ? t : t.key) )\n        this.reloadCmpData()\n      },\n      immediate: true,\n    }\n  },\n  computed:{\n    selectedLabels(){\n      return this.selectedData.map(t => t.label).join(',')\n    }\n  },\n  methods:{\n    reloadCmpData(){\n      this.innerValue = {}\n      this.tabKeys.forEach(key => {\n        this.innerValue[key] = this.value && this.value[key] ? JSON.parse(JSON.stringify(this.value[key])) : []\n      })\n      // transfer 可能还未加载成功\n      this.$nextTick(_ => {\n        this.initSelectedData()\n      })\n    },\n\n    initSelectedData(){\n      this.selectedData = this.tabKeys.reduce((res, key) => {\n        return res.concat(this.innerValue[key].map(t => ({\n          tabKey: key,\n          key: this.getKey(t, key),\n          label: this.getLabel(t, key)\n        })))\n      }, [])\n    },\n\n    getPropByKey(data, tabKey, key){\n      const transfer = this.$refs['transfer']\n      if(transfer){\n        return transfer.getNodeProp(data, key, tabKey)\n      }else{\n        return ''\n      }\n    },\n\n    getKey(data, tabKey){\n      return this.getPropByKey(data, tabKey, 'nodeId')\n    },\n\n    getLabel(data, tabKey){\n      return this.getPropByKey(data, tabKey, 'label')\n    },\n\n    onClose (item) {\n      const list = this.innerValue[item.tabKey]\n      const index = list.findIndex(t => this.getKey(t, item.tabKey) === item.key)\n      index > -1 && list.splice(index, 1)\n      this.initSelectedData()\n      this.$emit('input', this.innerValue)\n    },\n    \n    onConfirm (data) {\n      this.innerValue = data\n      this.initSelectedData()\n      this.$emit('input', this.innerValue)\n    }\n  }\n}\n</script>\n<style lang=\"stylus\" scoped>\n.tags {\n  .input-box.as-input{\n    border: 1px solid #DCDFE6;\n    padding-left: 6px;\n    font-size: 12px;\n    min-height: 32px;\n    line-height: 30px;\n    border-radius: 4px;\n    background: white;\n    color #606266\n    cursor pointer\n  }\n  .org-tag{\n    margin-right: 6px;\n    max-width: 6rem;  \n    overflow hidden\n    text-overflow ellipsis\n    position relative\n    padding-right 1rem\n    vertical-align middle\n\n    >>> .el-tag__close{\n      position: absolute;\n      right: 2px;\n      top: 50%;\n      margin-top: -7px;\n    }\n  }\n}\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=cae5a890&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=cae5a890&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cae5a890\",\n  null\n  \n)\n\nexport default component.exports","// import Amount from './Amount'\n// import Calculation from './Calculation'\n// import TimeDuration from './TimeDuration'\n// import DateDuration from './DateDuration'\nimport OrgTransfer from './OrgTransfer'\nimport OrgSelect from './OrgSelect'\n// import InputTable from './InputTable'\nconst components = [\n  // Amount,\n  // Calculation,\n  // TimeDuration,\n  // DateDuration,\n  OrgTransfer,\n  OrgSelect,\n  // InputTable\n]\n\nconst install = function ( Vue ) {\n  components.map( component => {\n    Vue.component( component.name, component )\n  } )\n}\n\nexport default {\n  install\n}","import Vue from 'vue'\nimport App from './App.vue'\nimport router from './router'\nimport store from './store'\nimport ElementUI from 'element-ui';\nimport 'element-ui/lib/theme-chalk/index.css';\nimport FormControls from './components/FormControls/index.js'\nimport '@/assets/style/index.styl'\nimport axios from './axios';\nimport VueAxios from 'vue-axios';\nimport VueCookie from 'vue-cookie'\n\nVue.use( FormControls )\nVue.use(ElementUI);\nVue.use(VueAxios, axios);\nVue.use(VueCookie)\n\nVue.config.productionTip = false\n\nnew Vue({\n  router,\n  store,\n  render: h => h(App)\n}).$mount('#app')\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=stylus&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RowWrapper.vue?vue&type=style&index=0&id=4f652313&lang=stylus&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./approver.vue?vue&type=style&index=0&id=3eca9a60&lang=stylus&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NumInput.vue?vue&type=style&index=0&id=3e566cb4&lang=stylus&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=stylus&\""],"sourceRoot":""}